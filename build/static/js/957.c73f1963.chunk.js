(self.webpackChunkbookshelf=self.webpackChunkbookshelf||[]).push([[957],{1109:function(t,e,r){var n=r(9713);function ownKeys(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}t.exports=function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach((function(e){n(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},9957:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B}});var n=r(4942),o=r(8738),i=r(3504),a=r(6871),l=r(7470),s=r(2981),c=r(702),u=r(8466),d=r(1665),f=r(2791),p=r(4165),m=r(7762),h=r(5861),g=r(1413),v=r(1650),y=r(6476);function useListItem(t,e){var r,n=useListItems(e);return null!==(r=null===n||void 0===n?void 0:n.find((function(e){return e.bookId===t})))&&void 0!==r?r:null}function useListItems(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(0,d.m8)(),r=(0,v.useQuery)((0,g.Z)((0,g.Z)({queryKey:"list-items",queryFn:function queryFn(){return e("list-items").then((function(t){return t.listItems}))}},t),{},{config:(0,g.Z)((0,g.Z)({},t.config),{},{onSuccess:function(){var e=(0,h.Z)((0,p.Z)().mark((function _callee(e){var r,n,o,i,a;return(0,p.Z)().wrap((function _callee$(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,null===(r=t.config)||void 0===r||null===(n=r.onSuccess)||void 0===n?void 0:n.call(r,e);case 2:o=(0,m.Z)(e);try{for(o.s();!(i=o.n()).done;)a=i.value,(0,y.YH)(a.book)}catch(s){o.e(s)}finally{o.f()}case 4:case"end":return l.stop()}}),_callee)})));return function onSuccess(t){return e.apply(this,arguments)}}()})})),n=r.data;return null!==n&&void 0!==n?n:[]}var Z={onError:function onError(t,e,r){return"function"===typeof r?r():null},onSettled:function onSettled(){return v.queryCache.invalidateQueries("list-items")}};function onUpdateMutation(t){var e=v.queryCache.getQueryData("list-items");return v.queryCache.setQueryData("list-items",(function(e){return e.map((function(e){return e.id===t.id?(0,g.Z)((0,g.Z)({},e),t):e}))})),function(){return v.queryCache.setQueryData("list-items",e)}}function useUpdateListItem(t){var e=(0,d.m8)();return(0,v.useMutation)((function(t){return e("list-items/".concat(t.id),{method:"PUT",data:t})}),(0,g.Z)((0,g.Z)({onMutate:onUpdateMutation},Z),t))}var b=r(885),k=r(5987),w=r(9135),x=r(6482),E=r(8713),L=["label","highlight","onClick","icon"];function TooltipButton(t){var e=t.label,r=t.highlight,n=t.onClick,i=t.icon,a=(0,k.Z)(t,L),l=(0,E.r)(),c=l.isLoading,d=l.isError,f=l.error,p=l.run,m=l.reset;return(0,o.tZ)(x.ZP,{label:d?f.message:e},(0,o.tZ)(s.ZJ,Object.assign({css:{backgroundColor:"white",":hover,:focus":{color:c?u.P6:d?u.h:r}},disabled:c,onClick:function handleClick(){d?m():p(n())},"aria-label":d?f.message:e},a),c?(0,o.tZ)(s.$j,null):d?(0,o.tZ)(w.G5m,null):i))}function StatusButtons(t){var e=t.book,r=useListItem(e.id),n=useUpdateListItem({throwOnError:!0}),i=(0,b.Z)(n,1)[0],a=function useRemoveListItem(t){var e=(0,d.m8)();return(0,v.useMutation)((function(t){var r=t.id;return e("list-items/".concat(r),{method:"DELETE"})}),(0,g.Z)((0,g.Z)({onMutate:function onMutate(t){var e=v.queryCache.getQueryData("list-items");return v.queryCache.setQueryData("list-items",(function(e){return e.filter((function(e){return e.id!==t.id}))})),function(){return v.queryCache.setQueryData("list-items",e)}}},Z),t))}({throwOnError:!0}),l=(0,b.Z)(a,1)[0],s=function useCreateListItem(t){var e=(0,d.m8)();return(0,v.useMutation)((function(t){var r=t.bookId;return e("list-items",{data:{bookId:r}})}),(0,g.Z)((0,g.Z)({},Z),t))}({throwOnError:!0}),c=(0,b.Z)(s,1)[0];return(0,o.tZ)(f.Fragment,null,r?Boolean(r.finishDate)?(0,o.tZ)(TooltipButton,{label:"Mark as unread",highlight:u.er,onClick:function onClick(){return i({id:r.id,finishDate:null})},icon:(0,o.tZ)(w.Mp$,null)}):(0,o.tZ)(TooltipButton,{label:"Mark as read",highlight:u.ek,onClick:function onClick(){return i({id:r.id,finishDate:Date.now()})},icon:(0,o.tZ)(w.FJM,null)}):null,r?(0,o.tZ)(TooltipButton,{label:"Remove from list",highlight:u.h,onClick:function onClick(){return l({id:r.id})},icon:(0,o.tZ)(w.wbB,null)}):(0,o.tZ)(TooltipButton,{label:"Add to list",highlight:u.QN,onClick:function onClick(){return c({bookId:e.id})},icon:(0,o.tZ)(w.EIY,null)}))}var I={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"};function Rating(t){var e=t.listItem,r=f.useState(!1),i=(0,b.Z)(r,2),a=i[0],l=i[1],c=useUpdateListItem(),d=(0,b.Z)(c,2),p=d[0],m=d[1],h=m.error,g=m.isError;f.useEffect((function(){function handleKeyDown(t){"Tab"===t.key&&l(!0)}return document.addEventListener("keydown",handleKeyDown,{once:!0}),function(){return document.removeEventListener("keydown",handleKeyDown)}}),[]);var v="list-item-".concat(e.id),y=Array.from({length:5}).map((function(t,r){var i,l="rating-".concat(e.id,"-").concat(r),s=r+1;return(0,o.tZ)(f.Fragment,{key:r},(0,o.tZ)("input",{name:v,type:"radio",id:l,value:s,checked:s===e.rating,onChange:function onChange(){p({id:e.id,rating:s})},css:[I,(i={},(0,n.Z)(i,".".concat(v," &:checked ~ label"),{color:u.tG}),(0,n.Z)(i,".".concat(v," &:checked + label"),{color:u.$y}),(0,n.Z)(i,".".concat(v," &:hover ~ label"),{color:"".concat(u.tG," !important")}),(0,n.Z)(i,".".concat(v," &:hover + label"),{color:"orange !important"}),(0,n.Z)(i,".".concat(v," &:focus + label svg"),{outline:a?["1px solid orange","-webkit-focus-ring-color auto 5px"]:"initial"}),i)]}),(0,o.tZ)("label",{htmlFor:l,css:{cursor:"pointer",color:e.rating<0?u.tG:u.$y,margin:0}},(0,o.tZ)("span",{css:I},s," ",1===s?"star":"stars"),(0,o.tZ)(w.QJe,{css:{width:"16px",margin:"0 2px"}})))}));return(0,o.tZ)("div",{onClick:function onClick(t){return t.stopPropagation()},className:v,css:(0,n.Z)({display:"inline-flex",alignItems:"center"},"&.".concat(v,":hover input + label"),{color:u.$y})},(0,o.tZ)("span",{css:{display:"flex"}},y),g?(0,o.tZ)(s.Bc,{error:h,variant:"inline",css:{marginLeft:6,fontSize:"0.7em"}}):null)}function BookRow(t){var e=t.book,r=e.title,a=e.author,l=e.coverImageUrl,s=useListItem(e.id),d="book-row-book-".concat(e.id);return(0,o.tZ)("div",{css:{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"relative"}},(0,o.tZ)(i.rU,{"aria-labelledby":d,to:"/book/".concat(e.id),css:{minHeight:270,flexGrow:2,display:"grid",gridTemplateColumns:"140px 1fr",gridGap:20,border:"1px solid ".concat(u.tG),color:u.fL,padding:"1.25em",borderRadius:"3px",":hover,:focus":{textDecoration:"none",boxShadow:"0 5px 15px -5px rgba(0,0,0,.08)",color:"inherit"}}},(0,o.tZ)("div",{css:(0,n.Z)({width:140},c.yG,{width:100})},(0,o.tZ)("img",{src:l,alt:"".concat(r," book cover"),css:{maxHeight:"100%",width:"100%"}})),(0,o.tZ)("div",{css:{flex:1}},(0,o.tZ)("div",{css:{display:"flex",justifyContent:"space-between"}},(0,o.tZ)("div",{css:{flex:1}},(0,o.tZ)("h2",{id:d,css:{fontSize:"1.25em",margin:"0",color:u.QN}},r),null!==s&&void 0!==s&&s.finishDate?(0,o.tZ)(Rating,{listItem:s}):null),(0,o.tZ)("div",{css:{marginLeft:10}},(0,o.tZ)("div",{css:{marginTop:"0.4em",fontStyle:"italic",fontSize:"0.85em"}},a),(0,o.tZ)("small",null,e.publisher))),(0,o.tZ)("small",{css:{whiteSpace:"break-spaces",display:"block"}},e.synopsis.substring(0,500),"..."))),(0,o.tZ)("div",{css:{marginLeft:"20px",position:"absolute",right:-20,color:u.P6,display:"flex",flexDirection:"column",justifyContent:"space-around",height:"100%"}},(0,o.tZ)(StatusButtons,{book:e})))}var S=r(1289);function ListItemList(t){var e=t.filterListItems,r=t.noListItems,n=t.noFilteredListItems,i=useListItems(),a=i.filter(e);return i.length?a.length?(0,o.tZ)(S.Q,{id:"List Item List",metadata:{listItemCount:a.length}},(0,o.tZ)(s.BQ,null,a.map((function(t){return(0,o.tZ)("li",{key:t.id,"aria-label":t.book.title},(0,o.tZ)(BookRow,{book:t.book}))})))):(0,o.tZ)("div",{css:{marginTop:"1em",fontSize:"1.2em"}},n):(0,o.tZ)("div",{css:{marginTop:"1em",fontSize:"1.2em"}},r)}function ReadingListScreen(){return f.createElement(ListItemList,{filterListItems:function filterListItems(t){return!t.finishDate},noListItems:f.createElement("p",null,"Hey there! Welcome to your bookshelf reading list. Get started by heading over to ",f.createElement(s.rU,{to:"/discover"},"the Discover page")," to add books to your list."),noFilteredListItems:f.createElement("p",null,"Looks like you've finished all your books! Check them out in your"," ",f.createElement(s.rU,{to:"/finished"},"finished books")," or"," ",f.createElement(s.rU,{to:"/discover"},"discover more"),".")})}function FinishedScreen(){return f.createElement(ListItemList,{filterListItems:function filterListItems(t){return Boolean(t.finishDate)},noListItems:f.createElement("p",null,"Hey there! This is where books will go when you've finished reading them. Get started by heading over to"," ",f.createElement(s.rU,{to:"/discover"},"the Discover page")," to add books to your list."),noFilteredListItems:f.createElement("p",null,"Looks like you've got some reading to do! Check them out in your"," ",f.createElement(s.rU,{to:"/list"},"reading list")," or"," ",f.createElement(s.rU,{to:"/discover"},"discover more"),".")})}function DiscoverBooksScreen(){var t=f.useState(""),e=(0,b.Z)(t,2),r=e[0],n=e[1],i=f.useState(),a=(0,b.Z)(i,2),l=a[0],c=a[1],d=(0,y.uT)(r),p=d.books,m=d.error,h=d.isLoading,g=d.isError,v=d.isSuccess,Z=(0,y.Nl)();return f.useEffect((function(){return function(){return Z()}}),[Z]),(0,o.tZ)("div",null,(0,o.tZ)("div",null,(0,o.tZ)("form",{onSubmit:function handleSearchClick(t){t.preventDefault(),c(!0),n(t.target.elements.search.value)}},(0,o.tZ)(s.II,{placeholder:"Search books...",id:"search",type:"search",css:{width:"100%"}}),(0,o.tZ)(x.ZP,{label:"Search Books"},(0,o.tZ)("label",{htmlFor:"search"},(0,o.tZ)("button",{type:"submit",css:{border:"0",position:"relative",marginLeft:"-35px",background:"transparent"}},h?(0,o.tZ)(s.$j,null):g?(0,o.tZ)(w.aHS,{"aria-label":"error",css:{color:u.h}}):(0,o.tZ)(w.U41,{"aria-label":"search"}))))),g?(0,o.tZ)("div",{css:{color:u.h}},(0,o.tZ)("p",null,"There was an error:"),(0,o.tZ)("pre",null,m.message)):null),(0,o.tZ)("div",null,l?null:(0,o.tZ)("div",{css:{marginTop:20,fontSize:"1.2em",textAlign:"center"}},(0,o.tZ)("p",null,"Welcome to the discover page."),(0,o.tZ)("p",null,"Here, let me load a few books for you..."),h?(0,o.tZ)("div",{css:{width:"100%",margin:"auto"}},(0,o.tZ)(s.$j,null)):v&&p.length?(0,o.tZ)("p",null,"Here you go! Find more books with the search bar above."):v&&!p.length?(0,o.tZ)("p",null,"Hmmm... I couldn't find any books to suggest for you. Sorry."):null),p.length?(0,o.tZ)(S.Q,{id:"Discover Books Screen Book List",metadata:{query:r,bookCount:p.length}},(0,o.tZ)(s.BQ,{css:{marginTop:20}},p.map((function(t){return(0,o.tZ)("li",{key:t.id,"aria-label":t.title},(0,o.tZ)(BookRow,{key:t.id,book:t}))})))):l?(0,o.tZ)("div",{css:{marginTop:20,fontSize:"1.2em",textAlign:"center"}},h?(0,o.tZ)("div",{css:{width:"100%",margin:"auto"}},(0,o.tZ)(s.$j,null)):(0,o.tZ)("p",null,"Hmmm... I couldn't find any books with the query \"",r,'." Please try another.')):null))}var C=r(2038),O=r.n(C),D=function formatDate(t){return new Intl.DateTimeFormat("en-US",{month:"short",year:"2-digit"}).format(t)};function BookScreen(){var t=(0,a.UO)().bookId,e=(0,y.CQ)(t),r=useListItem(t),i=e.title,l=e.author,s=e.coverImageUrl,d=e.publisher,f=e.synopsis;return(0,o.tZ)(S.Q,{id:"Book Screen",metadata:{bookId:t,listItemId:null===r||void 0===r?void 0:r.id}},(0,o.tZ)("div",null,(0,o.tZ)("div",{css:(0,n.Z)({display:"grid",gridTemplateColumns:"1fr 2fr",gridGap:"2em",marginBottom:"1em"},c.yG,{display:"flex",flexDirection:"column"})},(0,o.tZ)("img",{src:s,alt:"".concat(i," book cover"),css:{width:"100%",maxWidth:"14rem"}}),(0,o.tZ)("div",null,(0,o.tZ)("div",{css:{display:"flex",position:"relative"}},(0,o.tZ)("div",{css:{flex:1,justifyContent:"space-between"}},(0,o.tZ)("h1",null,i),(0,o.tZ)("div",null,(0,o.tZ)("i",null,l),(0,o.tZ)("span",{css:{marginRight:6,marginLeft:6}},"|"),(0,o.tZ)("i",null,d))),(0,o.tZ)("div",{css:{right:0,color:u.P6,display:"flex",flexDirection:"column",justifyContent:"space-around",minHeight:100}},e.loadingBook?null:(0,o.tZ)(StatusButtons,{book:e}))),(0,o.tZ)("div",{css:{marginTop:10,minHeight:46}},null!==r&&void 0!==r&&r.finishDate?(0,o.tZ)(Rating,{listItem:r}):null,r?(0,o.tZ)(ListItemTimeframe,{listItem:r}):null),(0,o.tZ)("br",null),(0,o.tZ)("p",{css:{whiteSpace:"break-spaces",display:"block"}},f))),!e.loadingBook&&r?(0,o.tZ)(NotesTextarea,{listItem:r}):null))}function ListItemTimeframe(t){var e=t.listItem,r=e.finishDate?"Start and finish date":"Start date";return(0,o.tZ)(x.ZP,{label:r},(0,o.tZ)("div",{"aria-label":r,css:{marginTop:6}},(0,o.tZ)(w.Pll,{css:{marginTop:-2,marginRight:5}}),(0,o.tZ)("span",null,D(e.startDate)," ",e.finishDate?"\u2014 ".concat(D(e.finishDate)):null)))}function NotesTextarea(t){var e=t.listItem,r=useUpdateListItem(),n=(0,b.Z)(r,2),i=n[0],a=n[1],l=a.error,c=a.isError,u=a.isLoading,d=f.useMemo((function(){return O()(i,{wait:300})}),[i]);return(0,o.tZ)(f.Fragment,null,(0,o.tZ)("div",null,(0,o.tZ)("label",{htmlFor:"notes",css:{display:"inline-block",marginRight:10,marginTop:"0",marginBottom:"0.5rem",fontWeight:"bold"}},"Notes"),c?(0,o.tZ)(s.Bc,{variant:"inline",error:l,css:{fontSize:"0.7em"}}):null,u?(0,o.tZ)(s.$j,null):null),(0,o.tZ)(s.gx,{id:"notes",defaultValue:e.notes,onChange:function handleNotesChange(t){d({id:e.id,notes:t.target.value})},css:{width:"100%",minHeight:300}}))}function NotFoundScreen(){return(0,o.tZ)("div",{css:{height:"100%",display:"grid",alignItems:"center",justifyContent:"center"}},(0,o.tZ)("div",null,"Sorry... nothing here. ",(0,o.tZ)(s.rU,{to:"/list"},"Go home")))}function ErrorFallback(t){var e=t.error;return(0,o.tZ)(s.Bc,{error:e,css:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})}function NavLink(t){var e=(0,a.bS)(t.to);return(0,o.tZ)(i.rU,Object.assign({css:[{display:"block",padding:"8px 15px 8px 10px",margin:"5px 0",width:"100%",height:"100%",color:u.fL,borderRadius:"2px",borderLeft:"5px solid transparent",":hover,:focus":{color:u.QN,textDecoration:"none",background:u.fw}},e?{borderLeft:"5px solid ".concat(u.QN),background:u.fw,":hover,:focus":{background:u.fw}}:null]},t))}function Nav(t){return(0,o.tZ)("nav",{css:(0,n.Z)({position:"sticky",top:"4px",padding:"1em 1.5em",border:"1px solid ".concat(u.fw),borderRadius:"3px"},c.yG,{position:"static",top:"auto"})},(0,o.tZ)("ul",{css:{listStyle:"none",padding:"0"}},(0,o.tZ)("li",null,(0,o.tZ)(NavLink,{to:"/list"},"Reading List")),(0,o.tZ)("li",null,(0,o.tZ)(NavLink,{to:"/finished"},"Finished Books")),(0,o.tZ)("li",null,(0,o.tZ)(NavLink,{to:"/discover"},"Discover"))))}function AppRoutes(){return(0,o.tZ)(a.Z5,null,(0,o.tZ)(a.AW,{path:"/list",element:(0,o.tZ)(ReadingListScreen,null)}),(0,o.tZ)(a.AW,{path:"/finished",element:(0,o.tZ)(FinishedScreen,null)}),(0,o.tZ)(a.AW,{path:"/discover",element:(0,o.tZ)(DiscoverBooksScreen,null)}),(0,o.tZ)(a.AW,{path:"/book/:bookId",element:(0,o.tZ)(BookScreen,null)}),(0,o.tZ)(a.AW,{path:"*",element:(0,o.tZ)(NotFoundScreen,null)}))}var B=function AuthenticatedApp(){var t=(0,d.aC)(),e=t.user,r=t.logout;return(0,o.tZ)(l.ErrorBoundary,{FallbackComponent:s.dy},(0,o.tZ)("div",{css:{display:"flex",alignItems:"center",position:"absolute",top:"10px",right:"10px"}},e.username,(0,o.tZ)(s.zx,{variant:"secondary",css:{marginLeft:"10px"},onClick:r},"Logout")),(0,o.tZ)("div",{css:(0,n.Z)({margin:"0 auto",padding:"4em 2em",maxWidth:"840px",width:"100%",display:"grid",gridGap:"1em",gridTemplateColumns:"1fr 3fr"},c.yG,{gridTemplateColumns:"1fr",gridTemplateRows:"auto",width:"100%"})},(0,o.tZ)("div",{css:{position:"relative"}},(0,o.tZ)(Nav,null)),(0,o.tZ)("main",{css:{width:"100%"}},(0,o.tZ)(l.ErrorBoundary,{FallbackComponent:ErrorFallback},(0,o.tZ)(AppRoutes,null)))))}},2038:function(t,e,r){"use strict";var n=r(5498);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==typeof t)throw new TypeError("Expected the first argument to be a function, got `".concat(typeof t,"`"));var r,o,i=e.wait,a=void 0===i?0:i,l=e.before,s=void 0!==l&&l,c=e.after,u=void 0===c||c;if(!s&&!u)throw new Error("Both `before` and `after` are false, function wouldn't be called.");var d=function debouncedFunction(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var l=this,c=function later(){r=void 0,u&&(o=t.apply(l,n))},d=s&&!r;return clearTimeout(r),r=setTimeout(c,a),d&&(o=t.apply(l,n)),o};return n(d,t),d.cancel=function(){r&&(clearTimeout(r),r=void 0)},d}},5498:function(t,e,r){"use strict";var n=r(3269).default,o=r(1109).default,i=function copyProperty(t,e,r,n){if("length"!==r&&"prototype"!==r&&"arguments"!==r&&"caller"!==r){var o=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!a(o,i)&&n||Object.defineProperty(t,r,i)}},a=function canCopyProperty(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},l=function changePrototype(t,e){var r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},s=function wrappedToString(t,e){return"/* Wrapped ".concat(t,"*/\n").concat(e)},c=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),u=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),d=function changeToString(t,e,r){var n=""===r?"":"with ".concat(r.trim(),"() "),i=s.bind(null,n,e.toString());Object.defineProperty(i,"name",u),Object.defineProperty(t,"toString",o(o({},c),{},{value:i}))};t.exports=function mimicFn(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.ignoreNonConfigurable,s=void 0!==a&&a,c=t.name,u=n(Reflect.ownKeys(e));try{for(u.s();!(r=u.n()).done;){var f=r.value;i(t,e,f,s)}}catch(p){u.e(p)}finally{u.f()}return l(t,e),d(t,e,c),t}},7470:function(t,e,r){!function(t,e){"use strict";function _interopNamespace(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function get(){return t[r]}})}})),e.default=t,Object.freeze(e)}var r=_interopNamespace(e);function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}var n=function changedArray(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),t.length!==e.length||t.some((function(t,r){return!Object.is(t,e[r])}))},o={error:null},i=function(t){function ErrorBoundary(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this).state=o,e.resetErrorBoundary=function(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];null==e.props.onReset||(t=e.props).onReset.apply(t,n),e.reset()},e}_inheritsLoose(ErrorBoundary,t),ErrorBoundary.getDerivedStateFromError=function getDerivedStateFromError(t){return{error:t}};var e=ErrorBoundary.prototype;return e.reset=function reset(){this.setState(o)},e.componentDidCatch=function componentDidCatch(t,e){var r,n;null==(r=(n=this.props).onError)||r.call(n,t,e)},e.componentDidUpdate=function componentDidUpdate(t,e){var r,o,i=this.state.error,a=this.props.resetKeys;null!==i&&null!==e.error&&n(t.resetKeys,a)&&(null==(r=(o=this.props).onResetKeysChange)||r.call(o,t.resetKeys,a),this.reset())},e.render=function render(){var t=this.state.error,e=this.props,n=e.fallbackRender,o=e.FallbackComponent,i=e.fallback;if(null!==t){var a={error:t,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"===typeof n)return n(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ErrorBoundary}(r.Component);function withErrorBoundary(t,e){var n=function Wrapped(n){return r.createElement(i,e,r.createElement(t,n))},o=t.displayName||t.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n}function useErrorHandler(t){var e=r.useState(null),n=e[0],o=e[1];if(null!=t)throw t;if(null!=n)throw n;return o}t.ErrorBoundary=i,t.useErrorHandler=useErrorHandler,t.withErrorBoundary=withErrorBoundary,Object.defineProperty(t,"__esModule",{value:!0})}(e,r(2791))}}]);
//# sourceMappingURL=957.c73f1963.chunk.js.map