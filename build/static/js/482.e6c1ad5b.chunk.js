"use strict";(self.webpackChunkbookshelf=self.webpackChunkbookshelf||[]).push([[482],{4623:function(e,n,t){t.d(n,{M:function(){return useId}});var o=t(2791),i=t(7689),r=!1,u=0;function genId(){return++u}function useId(e){var n;if("function"===typeof o.useId){var t=(0,o.useId)(e);return null!=e?e:t}var u=null!=e?e:r?genId():null,s=(0,o.useState)(u),l=s[0],a=s[1];return(0,i.L)((function(){null===l&&a(genId())}),[]),(0,o.useEffect)((function(){!1===r&&(r=!0)}),[]),null!=(n=null!=e?e:l)?n:void 0}},6482:function(e,n,t){t.d(n,{u:function(){return F},ZP:function(){return U}});var o=t(2791),i=t(4623),r=t(2120);var u,s=t(1266),l=t(9473),a=t(2672),c=t(7380),d=t(7793),f=t(4787),v=["bottom","height","left","right","top","width"],p=new Map,b=function run(){var e=[];p.forEach((function(n,t){var o=t.getBoundingClientRect();(function rectChanged(e,n){return void 0===e&&(e={}),void 0===n&&(n={}),v.some((function(t){return e[t]!==n[t]}))})(o,n.rect)&&(n.rect=o,e.push(n))})),e.forEach((function(e){e.callbacks.forEach((function(n){return n(e.rect)}))})),u=window.requestAnimationFrame(run)};var h=function observeRect(e,n){return{observe:function observe(){var t=0===p.size;p.has(e)?p.get(e).callbacks.push(n):p.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[n]}),t&&b()},unobserve:function unobserve(){var t=p.get(e);if(t){var o=t.callbacks.indexOf(n);o>=0&&t.callbacks.splice(o,1),t.callbacks.length||p.delete(e),p.size||cancelAnimationFrame(u)}}}},M=t(7689),E=t(9433);function useRect(e,n,t){var i,r,u;(0,E.jn)(n)?i=n:(i=null==(u=null==n?void 0:n.observe)||u,r=null==n?void 0:n.onChange);(0,E.mf)(t)&&(r=t);var s=(0,o.useState)(e.current),l=s[0],a=s[1],c=(0,o.useRef)(!1),d=(0,o.useRef)(!1),f=(0,o.useState)(null),v=f[0],p=f[1],b=(0,o.useRef)(r);return(0,M.L)((function(){b.current=r,e.current!==l&&a(e.current)})),(0,M.L)((function(){l&&!c.current&&(c.current=!0,p(l.getBoundingClientRect()))}),[l]),(0,M.L)((function(){if(i){var n=l;if(d.current||(d.current=!0,n=e.current),n){var t=h(n,(function(e){null==b.current||b.current(e),p(e)}));return t.observe(),function(){t.unobserve()}}}}),[i,l,e]),v}function _extends(){return _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}var w,g,m,L,y,x,D,_,T=["children","label","ariaLabel","id","DEBUG_STYLE"],P=["label","ariaLabel","isVisible","id"],V=["ariaLabel","aria-label","as","id","isVisible","label","position","style","triggerRect"],S=["type"];!function(e){e.Idle="IDLE",e.Focused="FOCUSED",e.Visible="VISIBLE",e.LeavingVisible="LEAVING_VISIBLE",e.Dismissed="DISMISSED"}(D||(D={})),function(e){e.Blur="BLUR",e.Focus="FOCUS",e.GlobalMouseMove="GLOBAL_MOUSE_MOVE",e.MouseDown="MOUSE_DOWN",e.MouseEnter="MOUSE_ENTER",e.MouseLeave="MOUSE_LEAVE",e.MouseMove="MOUSE_MOVE",e.Rest="REST",e.SelectWithKeyboard="SELECT_WITH_KEYBOARD",e.TimeComplete="TIME_COMPLETE"}(_||(_={}));var I,O,R={initial:D.Idle,states:(x={},x[D.Idle]={enter:clearContextId,on:(w={},w[_.MouseEnter]=D.Focused,w[_.Focus]=D.Visible,w)},x[D.Focused]={enter:function startRestTimer(){window.clearTimeout(I),I=window.setTimeout((function(){send({type:_.Rest})}),100)},leave:function clearRestTimer(){window.clearTimeout(I)},on:(g={},g[_.MouseMove]=D.Focused,g[_.MouseLeave]=D.Idle,g[_.MouseDown]=D.Dismissed,g[_.Blur]=D.Idle,g[_.Rest]=D.Visible,g)},x[D.Visible]={on:(m={},m[_.Focus]=D.Focused,m[_.MouseEnter]=D.Focused,m[_.MouseLeave]=D.LeavingVisible,m[_.Blur]=D.LeavingVisible,m[_.MouseDown]=D.Dismissed,m[_.SelectWithKeyboard]=D.Dismissed,m[_.GlobalMouseMove]=D.LeavingVisible,m)},x[D.LeavingVisible]={enter:function startLeavingVisibleTimer(){window.clearTimeout(O),O=window.setTimeout((function(){return send({type:_.TimeComplete})}),500)},leave:function leave(){!function clearLeavingVisibleTimer(){window.clearTimeout(O)}(),clearContextId()},on:(L={},L[_.MouseEnter]=D.Visible,L[_.Focus]=D.Visible,L[_.TimeComplete]=D.Idle,L)},x[D.Dismissed]={leave:function leave(){clearContextId()},on:(y={},y[_.MouseLeave]=D.Idle,y[_.Blur]=D.Idle,y)},x)},k={value:R.initial,context:{id:null}},B=[];function clearContextId(){k.context.id=null}function useTooltip(e){var n=void 0===e?{}:e,t=n.id,u=n.onPointerEnter,d=n.onPointerMove,f=n.onPointerLeave,v=n.onPointerDown,p=n.onMouseEnter,b=n.onMouseMove,h=n.onMouseLeave,M=n.onMouseDown,E=n.onFocus,w=n.onBlur,g=n.onKeyDown,m=n.disabled,L=n.ref,y=n.DEBUG_STYLE,x=String((0,i.M)(t)),T=(0,o.useState)(!!y||isTooltipVisible(x,!0)),P=T[0],V=T[1],S=(0,o.useRef)(null),I=(0,a.e)(L,S),O=useRect(S,{observe:P});function wrapMouseEvent(e,n){return"undefined"!==typeof window&&"PointerEvent"in window?e:(0,c.M)(e,n)}function wrapPointerEventHandler(e){return function onPointerEvent(n){"mouse"===n.pointerType&&e(n)}}function handleMouseEnter(){send({type:_.MouseEnter,id:x})}function handleMouseMove(){send({type:_.MouseMove,id:x})}function handleMouseLeave(){send({type:_.MouseLeave})}function handleMouseDown(){k.context.id===x&&send({type:_.MouseDown})}return(0,o.useEffect)((function(){return function subscribe(e){return B.push(e),function(){B.splice(B.indexOf(e),1)}}((function(){V(isTooltipVisible(x))}))}),[x]),(0,l.kG)("tooltip"),(0,o.useEffect)((function(){var e=(0,r.r)(S.current);function listener(e){"Escape"!==e.key&&"Esc"!==e.key||k.value!==D.Visible||send({type:_.SelectWithKeyboard})}return e.addEventListener("keydown",listener),function(){return e.removeEventListener("keydown",listener)}}),[]),function useDisabledTriggerOnSafari(e){var n=e.disabled,t=e.isVisible,i=e.ref;(0,o.useEffect)((function(){if("undefined"!==typeof window&&"PointerEvent"in window&&n&&t){var e=(0,r.r)(i.current);return e.addEventListener("mousemove",handleMouseMove),function(){e.removeEventListener("mousemove",handleMouseMove)}}function handleMouseMove(e){t&&(e.target instanceof Element&&e.target.closest("[data-reach-tooltip-trigger][data-state='tooltip-visible']")||send({type:_.GlobalMouseMove}))}}),[n,t,i])}({disabled:m,isVisible:P,ref:S}),[{"aria-describedby":P?(0,s.q)("tooltip",x):void 0,"data-state":P?"tooltip-visible":"tooltip-hidden","data-reach-tooltip-trigger":"",ref:I,onPointerEnter:(0,c.M)(u,wrapPointerEventHandler(handleMouseEnter)),onPointerMove:(0,c.M)(d,wrapPointerEventHandler(handleMouseMove)),onPointerLeave:(0,c.M)(f,wrapPointerEventHandler(handleMouseLeave)),onPointerDown:(0,c.M)(v,wrapPointerEventHandler(handleMouseDown)),onMouseEnter:wrapMouseEvent(p,handleMouseEnter),onMouseMove:wrapMouseEvent(b,handleMouseMove),onMouseLeave:wrapMouseEvent(h,handleMouseLeave),onMouseDown:wrapMouseEvent(M,handleMouseDown),onFocus:(0,c.M)(E,(function handleFocus(){window.__REACH_DISABLE_TOOLTIPS||send({type:_.Focus,id:x})})),onBlur:(0,c.M)(w,(function handleBlur(){k.context.id===x&&send({type:_.Blur})})),onKeyDown:(0,c.M)(g,(function handleKeyDown(e){"Enter"!==e.key&&" "!==e.key||send({type:_.SelectWithKeyboard})}))},{id:x,triggerRect:O,isVisible:P},P]}var F=(0,o.forwardRef)((function(e,n){var t=e.children,i=e.label,r=e.ariaLabel,u=e.id,s=e.DEBUG_STYLE,l=_objectWithoutPropertiesLoose(e,T),a=o.Children.only(t),c=useTooltip({id:u,onPointerEnter:a.props.onPointerEnter,onPointerMove:a.props.onPointerMove,onPointerLeave:a.props.onPointerLeave,onPointerDown:a.props.onPointerDown,onMouseEnter:a.props.onMouseEnter,onMouseMove:a.props.onMouseMove,onMouseLeave:a.props.onMouseLeave,onMouseDown:a.props.onMouseDown,onFocus:a.props.onFocus,onBlur:a.props.onBlur,onKeyDown:a.props.onKeyDown,disabled:a.props.disabled,ref:a.ref,DEBUG_STYLE:s}),d=c[0],f=c[1];return(0,o.createElement)(o.Fragment,null,(0,o.cloneElement)(a,d),(0,o.createElement)(C,_extends({ref:n,label:i,"aria-label":r},f,l)))}));var C=(0,o.forwardRef)((function TooltipPopup(e,n){var t=e.label,i=e.ariaLabel,r=e.isVisible,u=e.id,l=_objectWithoutPropertiesLoose(e,P);return r?(0,o.createElement)(d.h,null,(0,o.createElement)(W,_extends({ref:n,label:t,"aria-label":i,isVisible:r},l,{id:(0,s.q)("tooltip",String(u))}))):null}));var W=(0,o.forwardRef)((function TooltipContent(e,n){var t=e.ariaLabel,i=e["aria-label"],r=e.as,u=void 0===r?"div":r,s=e.id,l=e.isVisible,c=e.label,d=e.position,v=void 0===d?j:d,p=e.style,b=e.triggerRect,h=_objectWithoutPropertiesLoose(e,V),M=null!=(i||t),E=(0,o.useRef)(null),w=(0,a.e)(n,E),g=useRect(E,{observe:l});return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(u,_extends({role:M?void 0:"tooltip"},h,{ref:w,"data-reach-tooltip":"",id:M?void 0:s,style:_extends({},p,getStyles(v,b,g))}),c),M&&(0,o.createElement)(f.T,{role:"tooltip",id:s},i||t))}));function getStyles(e,n,t){return!t?{visibility:"hidden"}:e(n,t)}var j=function positionTooltip(e,n,t){void 0===t&&(t=8);var o=function getDocumentDimensions(e){var n,t,o=(0,r.r)(e),i=o.defaultView||window;return o?{width:null!=(n=o.documentElement.clientWidth)?n:i.innerWidth,height:null!=(t=o.documentElement.clientHeight)?t:i.innerHeight}:{width:0,height:0}}(),i=o.width,u=o.height;if(!e||!n)return{};var s={top:e.top-n.height<0,right:i<e.left+n.width,bottom:u<e.bottom+n.height+t,left:e.left-n.width<0},l=s.bottom&&!s.top;return{left:s.right&&!s.left?e.right-n.width+window.pageXOffset+"px":e.left+window.pageXOffset+"px",top:l?e.top-t-n.height+window.pageYOffset+"px":e.top+t+e.height+window.pageYOffset+"px"}};function send(e){var n=function transition(e,n){var t=R.states[e.value],o=t&&t.on&&t.on[n.type];if(!o)return _extends({},e,{changed:!1});t&&t.leave&&t.leave(e.context,n);n.type;var i=_objectWithoutPropertiesLoose(n,S),r=_extends({},k.context,i),u="string"===typeof o?o:o.target,s=R.states[u];s&&s.enter&&s.enter(e.context,n);return{value:u,context:r,changed:!0}}(k,e),t=n.value,o=n.context;n.changed&&(k={value:t,context:o},function notify(){B.forEach((function(e){return e(k)}))}())}function isTooltipVisible(e,n){return k.context.id===e&&(n?k.value===D.Visible:k.value===D.Visible||k.value===D.LeavingVisible)}var U=F},1266:function(e,n,t){function makeId(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e){return null!=e})).join("--")}t.d(n,{q:function(){return makeId}})},4787:function(e,n,t){t.d(n,{T:function(){return r}});var o=t(2791);function _extends(){return _extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_extends.apply(this,arguments)}var i=["as","style"],r=(0,o.forwardRef)((function VisuallyHidden(e,n){var t=e.as,r=void 0===t?"span":t,u=e.style,s=void 0===u?{}:u,l=function _objectWithoutPropertiesLoose(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,i);return(0,o.createElement)(r,_extends({ref:n,style:_extends({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},s)},l))}));n.Z=r}}]);
//# sourceMappingURL=482.e6c1ad5b.chunk.js.map