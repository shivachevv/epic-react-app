{"version":3,"file":"static/js/942.598eef86.chunk.js","mappings":"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","sources":["components/modal.js","components/logo.js","unauthenticated-app.js","../node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js"],"sourcesContent":["/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport VisuallyHidden from '@reach/visually-hidden'\nimport {Dialog, CircleButton} from './lib'\n\nconst callAll =\n  (...fns) =>\n  (...args) =>\n    fns.forEach(fn => fn && fn(...args))\n\nconst ModalContext = React.createContext()\n\nfunction Modal(props) {\n  const [isOpen, setIsOpen] = React.useState(false)\n\n  return <ModalContext.Provider value={[isOpen, setIsOpen]} {...props} />\n}\n\nfunction ModalDismissButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext)\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(false), child.props.onClick),\n  })\n}\n\nfunction ModalOpenButton({children: child}) {\n  const [, setIsOpen] = React.useContext(ModalContext)\n  return React.cloneElement(child, {\n    onClick: callAll(() => setIsOpen(true), child.props.onClick),\n  })\n}\n\nfunction ModalContentsBase(props) {\n  const [isOpen, setIsOpen] = React.useContext(ModalContext)\n  return (\n    <Dialog isOpen={isOpen} onDismiss={() => setIsOpen(false)} {...props} />\n  )\n}\n\nfunction ModalContents({title, children, ...props}) {\n  return (\n    <ModalContentsBase {...props}>\n      <div css={{display: 'flex', justifyContent: 'flex-end'}}>\n        <ModalDismissButton>\n          <CircleButton>\n            <VisuallyHidden>Close</VisuallyHidden>\n            <span aria-hidden>Ã—</span>\n          </CircleButton>\n        </ModalDismissButton>\n      </div>\n      <h3 css={{textAlign: 'center', fontSize: '2em'}}>{title}</h3>\n      {children}\n    </ModalContentsBase>\n  )\n}\n\nexport {Modal, ModalDismissButton, ModalOpenButton, ModalContents}\n","import * as React from 'react'\n\nconst Logo = ({width = '48', height = '48'}) => {\n  return (\n    <svg\n      width={`${width}px`}\n      height={`${height}px`}\n      viewBox={`0 0 48 48`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <title>Bookshelf</title>\n      <g>\n        <path\n          d=\"M12,5H2C1.44772,5,1,5.44772,1,6v27h12V6C13,5.44772,12.55229,5,12,5z\"\n          fill=\"#E86C60\"\n        />\n        <path\n          d=\"M12,43H2c-0.55228,0-1-0.44772-1-1V32h12v10C13,42.55228,12.55229,43,12,43z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M8,23H6c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55229,0,1,0.44771,1,1v11 C9,22.55228,8.55229,23,8,23z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M35.44301,3.67613l-9.68988,2.47109c-0.53516,0.13647-0.85835,0.68094-0.72188,1.2161l6.67194,26.16267 l11.62785-2.96531L36.6591,4.398C36.52263,3.86285,35.97816,3.53965,35.44301,3.67613z\"\n          fill=\"#43A6DD\"\n        />\n        <path\n          d=\"M44.83315,40.49766l-9.68988,2.47109c-0.53516,0.13647-1.07962-0.18672-1.21609-0.72188l-2.47109-9.68988 l11.62785-2.96531l2.47109,9.68987C45.69151,39.81672,45.36831,40.36118,44.83315,40.49766z\"\n          fill=\"#444444\"\n        />\n        <path\n          d=\"M36.01502,22.10634l-1.93797,0.49422c-0.53516,0.13647-1.07962-0.18672-1.2161-0.72188l-2.7182-10.65886 c-0.13647-0.53516,0.18672-1.07962,0.72188-1.2161L32.8026,9.5095c0.53516-0.13647,1.07962,0.18672,1.2161,0.72188l2.7182,10.65886 C36.87337,21.4254,36.55017,21.96987,36.01502,22.10634z\"\n          fill=\"#FFFFFF\"\n        />\n        <path\n          d=\"M24,5H14c-0.55229,0-1,0.44772-1,1v27h12V6C25,5.44772,24.55228,5,24,5z\"\n          fill=\"#E6E6E6\"\n        />\n        <path\n          d=\"M24,43H14c-0.55229,0-1-0.44772-1-1V32h12v10C25,42.55228,24.55228,43,24,43z\"\n          fill=\"#B3B3B3\"\n        />\n        <path\n          d=\"M20,23h-2c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55228,0,1,0.44771,1,1v11 C21,22.55228,20.55228,23,20,23z\"\n          fill=\"#FFFFFF\"\n        />\n      </g>\n    </svg>\n  )\n}\n\nexport {Logo}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport {Input, Button, Spinner, FormGroup, ErrorMessage} from './components/lib'\nimport {Modal, ModalContents, ModalOpenButton} from './components/modal'\nimport {Logo} from './components/logo'\nimport {useAuth} from './context/auth-context'\nimport {useAsync} from './utils/hooks'\n\nfunction LoginForm({onSubmit, submitButton}) {\n  const {isLoading, isError, error, run} = useAsync()\n  function handleSubmit(event) {\n    event.preventDefault()\n    const {username, password} = event.target.elements\n\n    run(\n      onSubmit({\n        username: username.value,\n        password: password.value,\n      }),\n    )\n  }\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      css={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'stretch',\n        '> div': {\n          margin: '10px auto',\n          width: '100%',\n          maxWidth: '300px',\n        },\n      }}\n    >\n      <FormGroup>\n        <label htmlFor=\"username\">Username</label>\n        <Input id=\"username\" />\n      </FormGroup>\n      <FormGroup>\n        <label htmlFor=\"password\">Password</label>\n        <Input id=\"password\" type=\"password\" />\n      </FormGroup>\n      <div>\n        {React.cloneElement(\n          submitButton,\n          {type: 'submit'},\n          ...(Array.isArray(submitButton.props.children)\n            ? submitButton.props.children\n            : [submitButton.props.children]),\n          isLoading ? <Spinner css={{marginLeft: 5}} /> : null,\n        )}\n      </div>\n      {isError ? <ErrorMessage error={error} /> : null}\n    </form>\n  )\n}\n\nfunction UnauthenticatedApp() {\n  const {login, register} = useAuth()\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        height: '100vh',\n      }}\n    >\n      <Logo width=\"80\" height=\"80\" />\n      <h1>Bookshelf</h1>\n      <div\n        css={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(2, minmax(0, 1fr))',\n          gridGap: '0.75rem',\n        }}\n      >\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"primary\">Login</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Login form\" title=\"Login\">\n            <LoginForm\n              onSubmit={login}\n              submitButton={<Button variant=\"primary\">Login</Button>}\n            />\n          </ModalContents>\n        </Modal>\n        <Modal>\n          <ModalOpenButton>\n            <Button variant=\"secondary\">Register</Button>\n          </ModalOpenButton>\n          <ModalContents aria-label=\"Registration form\" title=\"Register\">\n            <LoginForm\n              onSubmit={register}\n              submitButton={<Button variant=\"secondary\">Register</Button>}\n            />\n          </ModalContents>\n        </Modal>\n      </div>\n    </div>\n  )\n}\n\nexport default UnauthenticatedApp\n","import { forwardRef, createElement } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar _excluded = [\"as\", \"style\"];\n\n/**\n * VisuallyHidden\n *\n * Provides text for screen readers that is visually hidden.\n * It is the logical opposite of the `aria-hidden` attribute.\n */\nvar VisuallyHidden = /*#__PURE__*/forwardRef(function VisuallyHidden(_ref, ref) {\n  var _ref$as = _ref.as,\n      Comp = _ref$as === void 0 ? \"span\" : _ref$as,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  return /*#__PURE__*/createElement(Comp, _extends({\n    ref: ref,\n    style: _extends({\n      border: 0,\n      clip: \"rect(0 0 0 0)\",\n      height: \"1px\",\n      margin: \"-1px\",\n      overflow: \"hidden\",\n      padding: 0,\n      position: \"absolute\",\n      width: \"1px\",\n      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe\n      whiteSpace: \"nowrap\",\n      wordWrap: \"normal\"\n    }, style)\n  }, props));\n});\n/**\n * @see Docs https://reach.tech/visually-hidden#visuallyhidden-props\n */\n\nif (process.env.NODE_ENV !== \"production\") {\n  VisuallyHidden.displayName = \"VisuallyHidden\";\n  VisuallyHidden.propTypes = {\n    as: PropTypes.any,\n    children: PropTypes.node\n  };\n} ////////////////////////////////////////////////////////////////////////////////\n\nexport default VisuallyHidden;\nexport { VisuallyHidden };\n"],"names":["callAll","fns","args","forEach","fn","ModalContext","React","Modal","props","isOpen","setIsOpen","Provider","value","ModalDismissButton","child","children","onClick","ModalOpenButton","ModalContentsBase","onDismiss","ModalContents","title","css","display","justifyContent","textAlign","fontSize","Logo","width","height","viewBox","xmlns","d","fill","LoginForm","onSubmit","submitButton","useAsync","isLoading","isError","error","run","handleSubmit","event","preventDefault","target","elements","username","password","flexDirection","alignItems","margin","maxWidth","htmlFor","id","type","Array","isArray","marginLeft","UnauthenticatedApp","useAuth","login","register","gridTemplateColumns","gridGap","variant","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_excluded","VisuallyHidden","forwardRef","_ref","ref","_ref$as","as","Comp","_ref$style","style","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","createElement","border","clip","overflow","padding","position","whiteSpace","wordWrap"],"sourceRoot":""}