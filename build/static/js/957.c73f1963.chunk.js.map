{"version":3,"file":"static/js/957.c73f1963.chunk.js","mappings":"8FAAA,IAAIA,EAAiB,EAAQ,MAE7B,SAASC,QAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAC3CC,IAAmBI,EAAUA,EAAQC,QAAO,SAAUC,GACpD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eACjDP,EAAKQ,KAAKC,MAAMT,EAAMG,GAG7B,OAAOH,EAgBTU,EAAOC,QAbP,SAASC,eAAeC,GACtB,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAS,MAAQF,UAAUD,GAAKC,UAAUD,GAAK,GACnDA,EAAI,EAAIjB,QAAQI,OAAOgB,IAAS,GAAIC,SAAQ,SAAUC,GACpDvB,EAAeiB,EAAQM,EAAKF,EAAOE,OAChClB,OAAOmB,0BAA4BnB,OAAOoB,iBAAiBR,EAAQZ,OAAOmB,0BAA0BH,IAAWpB,QAAQI,OAAOgB,IAASC,SAAQ,SAAUC,GAC5JlB,OAAOL,eAAeiB,EAAQM,EAAKlB,OAAOK,yBAAyBW,EAAQE,OAI/E,OAAON,GAGwBH,EAAOC,QAAQW,YAAa,EAAMZ,EAAOC,QAAiB,QAAID,EAAOC,S,kPCxBtG,SAASY,YAAYC,EAAQC,GAAU,IAAD,EAC9BC,EAAYC,aAAaF,GAC/B,wBAAOC,QAAP,IAAOA,OAAP,EAAOA,EAAWE,MAAK,SAAAC,GAAE,OAAIA,EAAGL,SAAWA,YAA3C,QAAsD,KAGxD,SAASG,eAA4B,IAAfF,EAAc,uDAAJ,GACxBK,GAASC,EAAAA,EAAAA,MAEf,GAA0BC,EAAAA,EAAAA,WAAS,gBACjCC,SAAU,aACVC,QAAS,0BAAMJ,EAAO,cAAcK,MAAK,SAAAC,GAAI,OAAIA,EAAKV,eACnDD,GAH6B,IAIhCY,QAAO,kBACFZ,EAAQY,QADP,IAEJC,UAAU,WAAD,8BAAE,iBAAMZ,GAAN,uHACHD,EAAQY,cADL,iBACH,EAAgBC,iBADb,aACH,SAA4BZ,GADzB,iBAEcA,GAFd,IAET,2BAAWa,EAAuB,SAChCC,EAAAA,EAAAA,IAAoBD,EAASE,MAHtB,+EAAF,6DAAC,QANDf,EAAb,EAAOU,KAcP,cAAOV,QAAP,IAAOA,EAAAA,EAAa,GAGtB,IAAMgB,EAAyB,CAC7BC,QAAS,iBAACC,EAAKC,EAAWC,GAAjB,MACY,oBAAZA,EAAyBA,IAAY,MAC9CC,UAAW,4BAAMC,EAAAA,WAAAA,kBAA6B,gBAGhD,SAASC,iBAAiBC,GACxB,IAAMC,EAAgBH,EAAAA,WAAAA,aAAwB,cAQ9C,OANAA,EAAAA,WAAAA,aAAwB,cAAc,SAAAI,GACpC,OAAOA,EAAIC,KAAI,SAAAC,GACb,OAAOA,EAAKC,KAAOL,EAAQK,IAApB,kBAA6BD,GAASJ,GAAWI,QAIrD,kBAAMN,EAAAA,WAAAA,aAAwB,aAAcG,IAGrD,SAASK,kBAAkB/B,GACzB,IAAMK,GAASC,EAAAA,EAAAA,MAEf,OAAO0B,EAAAA,EAAAA,cACL,SAAAC,GAAO,OACL5B,EAAO,cAAD,OAAe4B,EAAQH,IAAM,CACjCI,OAAQ,MACRvB,KAAMsB,OAJM,QAAC,QAOfE,SAAUX,kBACPP,GACAjB,I,8FCrCT,SAASoC,cAAT,GAAoE,IAA5CC,EAA2C,EAA3CA,MAAOC,EAAoC,EAApCA,UAAWC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,KAASC,GAAO,YACjE,GAAgDC,EAAAA,EAAAA,KAAzCC,EAAP,EAAOA,UAAWC,EAAlB,EAAkBA,QAASC,EAA3B,EAA2BA,MAAOC,EAAlC,EAAkCA,IAAKC,EAAvC,EAAuCA,MAUvC,OACE,QAAC,KAAD,CAASV,MAAOO,EAAUC,EAAMG,QAAUX,IACxC,QAAC,KAAD,eACEY,IAAK,CACHC,gBAAiB,QACjB,gBAAiB,CACfC,MAAOR,EACHS,EAAAA,GACAR,EACAQ,EAAAA,EACAd,IAGRe,SAAUV,EACVJ,QAtBN,SAASe,cACHV,EACFG,IAEAD,EAAIP,MAmBF,aAAYK,EAAUC,EAAMG,QAAUX,GAClCI,GAEHE,GAAY,QAAC,KAAD,MAAcC,GAAU,QAAC,MAAD,MAAoBJ,IAMjE,SAASe,cAAT,GAAgC,IAARvC,EAAO,EAAPA,KAChBF,EAAWhB,YAAYkB,EAAKc,IAElC,EAAiBC,kBAAkB,CAACyB,cAAc,IAA3CC,GAAP,eACA,EDGF,SAASC,kBAAkB1D,GACzB,IAAMK,GAASC,EAAAA,EAAAA,MAEf,OAAO0B,EAAAA,EAAAA,cAAY,gBAAEF,EAAF,EAAEA,GAAF,OAAUzB,EAAO,cAAD,OAAeyB,GAAM,CAACI,OAAQ,cAA/C,QAAC,QACjBC,SAAU,kBAAAwB,GACR,IAAMjC,EAAgBH,EAAAA,WAAAA,aAAwB,cAM9C,OAJAA,EAAAA,WAAAA,aAAwB,cAAc,SAAAI,GACpC,OAAOA,EAAIhD,QAAO,SAAAkD,GAAI,OAAIA,EAAKC,KAAO6B,EAAY7B,SAG7C,kBAAMP,EAAAA,WAAAA,aAAwB,aAAcG,MAElDT,GACAjB,ICjBuB0D,CAAkB,CAACF,cAAc,IAAtDI,GAAP,eACA,EDoBF,SAASC,kBAAkB7D,GACzB,IAAMK,GAASC,EAAAA,EAAAA,MAEf,OAAO0B,EAAAA,EAAAA,cAAY,gBAAEjC,EAAF,EAAEA,OAAF,OAAcM,EAAO,aAAc,CAACM,KAAM,CAACZ,OAAAA,QAA5C,QAAC,UACdkB,GACAjB,ICzBoB6D,CAAkB,CAACL,cAAc,IAAnDM,GAAP,eAEA,OACE,QAAC,WAAD,KACGhD,EACCiD,QAAQjD,EAASkD,aACf,QAAC5B,cAAD,CACEC,MAAM,iBACNC,UAAWc,EAAAA,GACXb,QAAS,0BAAMkB,EAAO,CAAC3B,GAAIhB,EAASgB,GAAIkC,WAAY,QACpDxB,MAAM,QAAC,MAAD,SAGR,QAACJ,cAAD,CACEC,MAAM,eACNC,UAAWc,EAAAA,GACXb,QAAS,0BAAMkB,EAAO,CAAC3B,GAAIhB,EAASgB,GAAIkC,WAAYC,KAAKC,SACzD1B,MAAM,QAAC,MAAD,QAGR,KACH1B,GACC,QAACsB,cAAD,CACEC,MAAM,mBACNC,UAAWc,EAAAA,EACXb,QAAS,0BAAMqB,EAAkB,CAAC9B,GAAIhB,EAASgB,MAC/CU,MAAM,QAAC,MAAD,SAGR,QAACJ,cAAD,CACEC,MAAM,cACNC,UAAWc,EAAAA,GACXb,QAAS,0BAAMuB,EAAe,CAAC/D,OAAQiB,EAAKc,MAC5CU,MAAM,QAAC,MAAD,SCtFhB,IAAM2B,EAAoB,CACxBC,OAAQ,IACRC,KAAM,gBACNC,OAAQ,MACRC,OAAQ,OACRC,SAAU,SACVC,QAAS,IACTC,SAAU,WACVC,MAAO,OAGT,SAASC,OAAT,GAA6B,IAAZ9D,EAAW,EAAXA,SACf,EAAkC+D,EAAAA,UAAe,GAAjD,eAAOC,EAAP,KAAkBC,EAAlB,KAEA,EAAmChD,oBAAnC,eAAO0B,EAAP,YAAgBZ,EAAhB,EAAgBA,MAAOD,EAAvB,EAAuBA,QAEvBiC,EAAAA,WAAgB,WACd,SAASG,cAAcC,GACH,QAAdA,EAAMvF,KACRqF,GAAa,GAIjB,OADAG,SAASC,iBAAiB,UAAWH,cAAe,CAACI,MAAM,IACpD,kBAAMF,SAASG,oBAAoB,UAAWL,kBACpD,IAEH,IAAMM,EAAa,oBAAgBxE,EAASgB,IAEtCyD,EAAQC,MAAMC,KAAK,CAAClG,OAAQ,IAAIqC,KAAI,SAAC8D,EAAGrG,GAAO,IAAD,EAC5CsG,EAAQ,iBAAa7E,EAASgB,GAAtB,YAA4BzC,GACpCuG,EAAcvG,EAAI,EACxB,OACE,QAAC,WAAD,CAAgBK,IAAKL,IACnB,iBACEwG,KAAMP,EACNQ,KAAK,QACLhE,GAAI6D,EACJI,MAAOH,EACPI,QAASJ,IAAgB9E,EAASmF,OAClCC,SAAU,oBACRzC,EAAO,CAAC3B,GAAIhB,EAASgB,GAAImE,OAAQL,KAEnC3C,IAAK,CACHkB,GADG,0BAGImB,EAHJ,sBAGwC,CAACnC,MAAOC,EAAAA,MAHhD,oBAIIkC,EAJJ,sBAIwC,CAACnC,MAAOC,EAAAA,MAJhD,oBASIkC,EATJ,oBASsC,CACrCnC,MAAM,GAAD,OAAKC,EAAAA,GAAL,kBAVN,oBAYIkC,EAZJ,oBAYsC,CACrCnC,MAAO,uBAbR,oBAeImC,EAfJ,wBAe0C,CACzCa,QAASrB,EACL,CAAC,mBAAoB,qCACrB,YAlBL,OAuBP,iBACEsB,QAAST,EACT1C,IAAK,CACHoD,OAAQ,UACRlD,MAAOrC,EAASmF,OAAS,EAAI7C,EAAAA,GAAgBA,EAAAA,GAC7CmB,OAAQ,KAGV,gBAAMtB,IAAKkB,GACRyB,EADH,IACiC,IAAhBA,EAAoB,OAAS,UAE9C,QAAC,MAAD,CAAQ3C,IAAK,CAAC0B,MAAO,OAAQJ,OAAQ,gBAK7C,OACE,eACEhC,QAAS,iBAAA+D,GAAC,OAAIA,EAAEC,mBAChBC,UAAWlB,EACXrC,KAAG,QACDwD,QAAS,cACTC,WAAY,UAFX,YAGKpB,EAHL,wBAG2C,CAC1CnC,MAAOC,EAAAA,OAIX,gBAAMH,IAAK,CAACwD,QAAS,SAAUlB,GAC9B3C,GACC,QAAC,KAAD,CACEC,MAAOA,EACP8D,QAAQ,SACR1D,IAAK,CAAC2D,WAAY,EAAGC,SAAU,WAE/B,MCnGV,SAASC,QAAT,GAA0B,IAAR9F,EAAO,EAAPA,KACT+F,EAAgC/F,EAAhC+F,MAAOC,EAAyBhG,EAAzBgG,OAAQC,EAAiBjG,EAAjBiG,cAChBnG,EAAWhB,YAAYkB,EAAKc,IAE5BA,EAAE,wBAAoBd,EAAKc,IAEjC,OACE,eACEmB,IAAK,CACHwD,QAAS,OACTC,WAAY,SACZQ,eAAgB,WAChBxC,SAAU,cAGZ,QAAC,KAAD,CACE,kBAAiB5C,EACjBqF,GAAE,gBAAWnG,EAAKc,IAClBmB,IAAK,CACHmE,UAAW,IACXC,SAAU,EACVZ,QAAS,OACTa,oBAAqB,YACrBC,QAAS,GACTnD,OAAO,aAAD,OAAehB,EAAAA,IACrBD,MAAOC,EAAAA,GACPqB,QAAS,SACT+C,aAAc,MACd,gBAAiB,CACfC,eAAgB,OAChBC,UAAW,kCACXvE,MAAO,cAIX,eACEF,KAAG,QACD0B,MAAO,KACNgD,EAAAA,GAAW,CACVhD,MAAO,QAIX,eACEiD,IAAKX,EACLY,IAAG,UAAKd,EAAL,eACH9D,IAAK,CAAC6E,UAAW,OAAQnD,MAAO,YAGpC,eAAK1B,IAAK,CAAC8E,KAAM,KACf,eAAK9E,IAAK,CAACwD,QAAS,OAAQS,eAAgB,mBAC1C,eAAKjE,IAAK,CAAC8E,KAAM,KACf,cACEjG,GAAIA,EACJmB,IAAK,CACH4D,SAAU,SACVtC,OAAQ,IACRpB,MAAOC,EAAAA,KAGR2D,GAEM,OAARjG,QAAQ,IAARA,GAAAA,EAAUkD,YAAa,QAACY,OAAD,CAAQ9D,SAAUA,IAAe,OAE3D,eAAKmC,IAAK,CAAC2D,WAAY,MACrB,eACE3D,IAAK,CACH+E,UAAW,QACXC,UAAW,SACXpB,SAAU,WAGXG,IAEH,qBAAQhG,EAAKkH,cAGjB,iBAAOjF,IAAK,CAACkF,WAAY,eAAgB1B,QAAS,UAC/CzF,EAAKoH,SAASC,UAAU,EAAG,KAD9B,UAKJ,eACEpF,IAAK,CACH2D,WAAY,OACZlC,SAAU,WACV4D,OAAQ,GACRnF,MAAOC,EAAAA,GACPqD,QAAS,OACT8B,cAAe,SACfrB,eAAgB,eAChB5C,OAAQ,UAGV,QAACf,cAAD,CAAevC,KAAMA,M,cChG7B,SAASwH,aAAT,GAA4E,IAArDC,EAAoD,EAApDA,gBAAiBC,EAAmC,EAAnCA,YAAaC,EAAsB,EAAtBA,oBAC7C1I,EAAYC,eAEZ0I,EAAoB3I,EAAUtB,OAAO8J,GAE3C,OAAKxI,EAAUV,OAGVqJ,EAAkBrJ,QASrB,QAAC,IAAD,CACEuC,GAAG,iBACH+G,SAAU,CAACC,cAAeF,EAAkBrJ,UAE5C,QAAC,KAAD,KACGqJ,EAAkBhH,KAAI,SAAAd,GAAQ,OAC7B,cAAIpB,IAAKoB,EAASgB,GAAI,aAAYhB,EAASE,KAAK+F,QAC9C,QAACD,QAAD,CAAS9F,KAAMF,EAASE,cAd9B,eAAKiC,IAAK,CAAC+E,UAAW,MAAOnB,SAAU,UACpC8B,IALE,eAAK1F,IAAK,CAAC+E,UAAW,MAAOnB,SAAU,UAAW6B,GCV7D,SAASK,oBACP,OACE,gBAACP,aAAD,CACEC,gBAAiB,yBAAArI,GAAE,OAAKA,EAAG4D,YAC3B0E,YACE,8GAEkB,gBAAC,KAAD,CAAMvB,GAAG,aAAT,qBAFlB,+BAMFwB,oBACE,6FACoE,IAClE,gBAAC,KAAD,CAAMxB,GAAG,aAAT,kBAFF,MAEgD,IAC9C,gBAAC,KAAD,CAAMA,GAAG,aAAT,iBAHF,OCZR,SAAS6B,iBACP,OACE,gBAACR,aAAD,CACEC,gBAAiB,yBAAArI,GAAE,OAAI2D,QAAQ3D,EAAG4D,aAClC0E,YACE,oIAEuC,IACrC,gBAAC,KAAD,CAAMvB,GAAG,aAAT,qBAHF,+BAOFwB,oBACE,4FACmE,IACjE,gBAAC,KAAD,CAAMxB,GAAG,SAAT,gBAFF,MAE0C,IACxC,gBAAC,KAAD,CAAMA,GAAG,aAAT,iBAHF,OCLR,SAAS8B,sBACP,MAA0BpE,EAAAA,SAAe,IAAzC,eAAOqE,EAAP,KAAcC,EAAd,KACA,EAA8BtE,EAAAA,WAA9B,eAAOuE,EAAP,KAAgBC,EAAhB,KACA,GAAsDC,EAAAA,EAAAA,IAAcJ,GAA7DK,EAAP,EAAOA,MAAO1G,EAAd,EAAcA,MAAOF,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,QAAS4G,EAAzC,EAAyCA,UACnCC,GAAyBC,EAAAA,EAAAA,MAY/B,OAVA7E,EAAAA,WAAgB,WACd,OAAO,kBAAM4E,OACZ,CAACA,KASF,oBACE,oBACE,gBAAME,SATZ,SAASC,kBAAkB3E,GACzBA,EAAM4E,iBACNR,GAAW,GACXF,EAASlE,EAAM7F,OAAO0K,SAASC,OAAOhE,UAOhC,QAAC,KAAD,CACEiE,YAAY,kBACZlI,GAAG,SACHgE,KAAK,SACL7C,IAAK,CAAC0B,MAAO,WAEf,QAAC,KAAD,CAAStC,MAAM,iBACb,iBAAO+D,QAAQ,WACb,kBACEN,KAAK,SACL7C,IAAK,CACHmB,OAAQ,IACRM,SAAU,WACVkC,WAAY,QACZqD,WAAY,gBAGbtH,GACC,QAAC,KAAD,MACEC,GACF,QAAC,MAAD,CAAS,aAAW,QAAQK,IAAK,CAACE,MAAOC,EAAAA,MAEzC,QAAC,MAAD,CAAU,aAAW,eAO9BR,GACC,eAAKK,IAAK,CAACE,MAAOC,EAAAA,KAChB,yCACA,mBAAMP,EAAMG,UAEZ,OAEN,mBACGoG,EAAU,MACT,eAAKnG,IAAK,CAAC+E,UAAW,GAAInB,SAAU,QAASqD,UAAW,YACtD,mDACA,6DACCvH,GACC,eAAKM,IAAK,CAAC0B,MAAO,OAAQJ,OAAQ,UAChC,QAAC,KAAD,OAEAiF,GAAaD,EAAMhK,QACrB,4EACEiK,IAAcD,EAAMhK,QACtB,iFAGE,MAGPgK,EAAMhK,QACL,QAAC,IAAD,CACEuC,GAAG,kCACH+G,SAAU,CAACK,MAAAA,EAAOiB,UAAWZ,EAAMhK,UAEnC,QAAC,KAAD,CAAY0D,IAAK,CAAC+E,UAAW,KAC1BuB,EAAM3H,KAAI,SAAAZ,GAAI,OACb,cAAItB,IAAKsB,EAAKc,GAAI,aAAYd,EAAK+F,QACjC,QAACD,QAAD,CAASpH,IAAKsB,EAAKc,GAAId,KAAMA,UAKnCoI,GACF,eAAKnG,IAAK,CAAC+E,UAAW,GAAInB,SAAU,QAASqD,UAAW,WACrDvH,GACC,eAAKM,IAAK,CAAC0B,MAAO,OAAQJ,OAAQ,UAChC,QAAC,KAAD,QAGF,uEACqD2E,EADrD,2BAMF,O,uBChHNkB,EAAa,SAAbA,WAAaC,GAAI,OACrB,IAAIC,KAAKC,eAAe,QAAS,CAACC,MAAO,QAASC,KAAM,YAAYC,OAClEL,ICgBJ,SAASM,aACP,IAAO5K,GAAU6K,EAAAA,EAAAA,MAAV7K,OACDiB,GAAO6J,EAAAA,EAAAA,IAAQ9K,GACfe,EAAWhB,YAAYC,GAEtBgH,EAAqD/F,EAArD+F,MAAOC,EAA8ChG,EAA9CgG,OAAQC,EAAsCjG,EAAtCiG,cAAeiB,EAAuBlH,EAAvBkH,UAAWE,EAAYpH,EAAZoH,SAEhD,OACE,QAAC,IAAD,CAAUtG,GAAG,cAAc+G,SAAU,CAAC9I,OAAAA,EAAQ+K,WAAU,OAAEhK,QAAF,IAAEA,OAAF,EAAEA,EAAUgB,MAClE,oBACE,eACEmB,KAAG,QACDwD,QAAS,OACTa,oBAAqB,UACrBC,QAAS,MACTwD,aAAc,OACbpD,EAAAA,GAAW,CACVlB,QAAS,OACT8B,cAAe,aAInB,eACEX,IAAKX,EACLY,IAAG,UAAKd,EAAL,eACH9D,IAAK,CAAC0B,MAAO,OAAQqG,SAAU,YAEjC,oBACE,eAAK/H,IAAK,CAACwD,QAAS,OAAQ/B,SAAU,cACpC,eAAKzB,IAAK,CAAC8E,KAAM,EAAGb,eAAgB,mBAClC,kBAAKH,IACL,oBACE,iBAAIC,IACJ,gBAAM/D,IAAK,CAACgI,YAAa,EAAGrE,WAAY,IAAxC,MACA,iBAAIsB,MAGR,eACEjF,IAAK,CACHqF,MAAO,EACPnF,MAAOC,EAAAA,GACPqD,QAAS,OACT8B,cAAe,SACfrB,eAAgB,eAChBE,UAAW,MAGZpG,EAAKkK,YAAc,MAAO,QAAC3H,cAAD,CAAevC,KAAMA,OAGpD,eAAKiC,IAAK,CAAC+E,UAAW,GAAIZ,UAAW,KAC1B,OAARtG,QAAQ,IAARA,GAAAA,EAAUkD,YAAa,QAACY,OAAD,CAAQ9D,SAAUA,IAAe,KACxDA,GAAW,QAACqK,kBAAD,CAAmBrK,SAAUA,IAAe,OAE1D,oBACA,aAAGmC,IAAK,CAACkF,WAAY,eAAgB1B,QAAS,UAC3C2B,MAILpH,EAAKkK,aAAepK,GACpB,QAACsK,cAAD,CAAetK,SAAUA,IACvB,OAMZ,SAASqK,kBAAT,GAAwC,IAAZrK,EAAW,EAAXA,SACpBuK,EAAiBvK,EAASkD,WAC5B,wBACA,aAEJ,OACE,QAAC,KAAD,CAAS3B,MAAOgJ,IACd,eAAK,aAAYA,EAAgBpI,IAAK,CAAC+E,UAAW,KAChD,QAAC,MAAD,CAAkB/E,IAAK,CAAC+E,WAAY,EAAGiD,YAAa,MACpD,oBACGb,EAAWtJ,EAASwK,WAAY,IAChCxK,EAASkD,WAAT,iBAA2BoG,EAAWtJ,EAASkD,aAAgB,QAO1E,SAASoH,cAAT,GAAoC,IAAZtK,EAAW,EAAXA,SACtB,EAA8CiB,oBAA9C,eAAO0B,EAAP,YAAgBZ,EAAhB,EAAgBA,MAAOD,EAAvB,EAAuBA,QAASD,EAAhC,EAAgCA,UAE1B4I,EAAkB1G,EAAAA,SACtB,kBAAM2G,IAAW/H,EAAQ,CAACgI,KAAM,QAChC,CAAChI,IAOH,OACE,QAAC,WAAD,MACE,oBACE,iBACE2C,QAAQ,QACRnD,IAAK,CACHwD,QAAS,eACTwE,YAAa,GACbjD,UAAW,IACX+C,aAAc,SACdW,WAAY,SAPhB,SAYC9I,GACC,QAAC,KAAD,CACE+D,QAAQ,SACR9D,MAAOA,EACPI,IAAK,CAAC4D,SAAU,WAEhB,KACHlE,GAAY,QAAC,KAAD,MAAc,OAE7B,QAAC,KAAD,CACEb,GAAG,QACH6J,aAAc7K,EAAS8K,MACvB1F,SA/BN,SAAS2F,kBAAkBvF,GACzBiF,EAAgB,CAACzJ,GAAIhB,EAASgB,GAAI8J,MAAOtF,EAAElH,OAAO2G,SA+B9C9C,IAAK,CAAC0B,MAAO,OAAQyC,UAAW,QC3IxC,SAAS0E,iBACP,OACE,eACE7I,IAAK,CACHqB,OAAQ,OACRmC,QAAS,OACTC,WAAY,SACZQ,eAAgB,YAGlB,8CACyB,QAAC,KAAD,CAAMC,GAAG,SAAT,aCD/B,SAAS4E,cAAT,GAAiC,IAATlJ,EAAQ,EAARA,MACtB,OACE,QAAC,KAAD,CACEA,MAAOA,EACPI,IAAK,CACHqB,OAAQ,OACRmC,QAAS,OACT8B,cAAe,SACfrB,eAAgB,SAChBR,WAAY,YAqDpB,SAASsF,QAAQC,GACf,IAAMC,GAAQC,EAAAA,EAAAA,IAASF,EAAM9E,IAC7B,OACE,QAAC,KAAD,eACElE,IAAK,CACH,CACEwD,QAAS,QACThC,QAAS,oBACTF,OAAQ,QACRI,MAAO,OACPL,OAAQ,OACRnB,MAAOC,EAAAA,GACPoE,aAAc,MACd4E,WAAY,wBACZ,gBAAiB,CACfjJ,MAAOC,EAAAA,GACPqE,eAAgB,OAChBwC,WAAY7G,EAAAA,KAGhB8I,EACI,CACEE,WAAW,aAAD,OAAehJ,EAAAA,IACzB6G,WAAY7G,EAAAA,GACZ,gBAAiB,CACf6G,WAAY7G,EAAAA,KAGhB,OAEF6I,IAKV,SAASI,IAAIC,GACX,OACE,eACErJ,KAAG,QACDyB,SAAU,SACV6H,IAAK,MACL9H,QAAS,YACTL,OAAO,aAAD,OAAehB,EAAAA,IACrBoE,aAAc,OACbG,EAAAA,GAAW,CACVjD,SAAU,SACV6H,IAAK,WAIT,cACEtJ,IAAK,CACHuJ,UAAW,OACX/H,QAAS,OAGX,mBACE,QAACuH,QAAD,CAAS7E,GAAG,SAAZ,kBAEF,mBACE,QAAC6E,QAAD,CAAS7E,GAAG,aAAZ,oBAEF,mBACE,QAAC6E,QAAD,CAAS7E,GAAG,aAAZ,eAOV,SAASsF,YACP,OACE,QAAC,KAAD,MACE,QAAC,KAAD,CAAOC,KAAK,QAAQC,SAAS,QAAC5D,kBAAD,SAC7B,QAAC,KAAD,CAAO2D,KAAK,YAAYC,SAAS,QAAC3D,eAAD,SACjC,QAAC,KAAD,CAAO0D,KAAK,YAAYC,SAAS,QAAC1D,oBAAD,SACjC,QAAC,KAAD,CAAOyD,KAAK,gBAAgBC,SAAS,QAAChC,WAAD,SACrC,QAAC,KAAD,CAAO+B,KAAK,IAAIC,SAAS,QAACb,eAAD,SAK/B,MAjIA,SAASc,mBACP,OAAuBC,EAAAA,EAAAA,MAAhBC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,OACb,OACE,QAAC,EAAAC,cAAD,CAAeC,kBAAmBC,EAAAA,KAChC,eACEjK,IAAK,CACHwD,QAAS,OACTC,WAAY,SACZhC,SAAU,WACV6H,IAAK,OACLjE,MAAO,SAGRwE,EAAKK,UACN,QAAC,KAAD,CAAQxG,QAAQ,YAAY1D,IAAK,CAAC2D,WAAY,QAASrE,QAASwK,GAAhE,YAIF,eACE9J,KAAG,QACDsB,OAAQ,SACRE,QAAS,UACTuG,SAAU,QACVrG,MAAO,OACP8B,QAAS,OACTc,QAAS,MACTD,oBAAqB,WACpBK,EAAAA,GAAW,CACVL,oBAAqB,MACrB8F,iBAAkB,OAClBzI,MAAO,WAIX,eAAK1B,IAAK,CAACyB,SAAU,cACnB,QAAC2H,IAAD,QAEF,gBAAMpJ,IAAK,CAAC0B,MAAO,UACjB,QAAC,EAAAqI,cAAD,CAAeC,kBAAmBlB,gBAChC,QAACU,UAAD,Y,kCCpEZ,IAAMY,EAAUC,EAAQ,MAExBrO,EAAOC,QAAU,SAACqO,GAAgC,IAAjBvN,EAAiB,uDAAP,GAC1C,GAA6B,oBAAlBuN,EACV,MAAM,IAAIC,UAAJ,oEAA4ED,EAA5E,MAGP,IAUIE,EACAC,EAXJ,EAII1N,EAHHyL,KAAAA,OADD,MACQ,EADR,IAIIzL,EAFH2N,OAAAA,OAFD,WAII3N,EADH4N,MAAAA,OAHD,SAMA,IAAKD,IAAWC,EACf,MAAM,IAAIC,MAAM,qEAMjB,IAAMC,EAAoB,SAApBA,oBAA6C,2BAAZC,EAAY,yBAAZA,EAAY,gBAClD,IAAMC,EAAUC,KAEVC,EAAQ,SAARA,QACLT,OAAUU,EAENP,IACHF,EAASH,EAAcvO,MAAMgP,EAASD,KAIlCK,EAAgBT,IAAWF,EAQjC,OAPAY,aAAaZ,GACbA,EAAUa,WAAWJ,EAAOzC,GAExB2C,IACHV,EAASH,EAAcvO,MAAMgP,EAASD,IAGhCL,GAYR,OATAL,EAAQS,EAAmBP,GAE3BO,EAAkBS,OAAS,WACtBd,IACHY,aAAaZ,GACbA,OAAUU,IAILL,I,0EClDFU,EAAe,SAAfA,aAAgBrH,EAAI1B,EAAMgJ,EAAUC,GAGzC,GAAiB,WAAbD,GAAsC,cAAbA,GAKZ,cAAbA,GAAyC,WAAbA,EAAhC,CAIA,IAAME,EAAenQ,OAAOK,yBAAyBsI,EAAIsH,GACnDG,EAAiBpQ,OAAOK,yBAAyB4G,EAAMgJ,IAExDI,EAAgBF,EAAcC,IAAmBF,GAItDlQ,OAAOL,eAAegJ,EAAIsH,EAAUG,KAM/BC,EAAkB,SAAlBA,gBAA4BF,EAAcC,GAC/C,YAAwBT,IAAjBQ,GAA8BA,EAAaG,cACjDH,EAAaI,WAAaH,EAAeG,UACzCJ,EAAa7P,aAAe8P,EAAe9P,YAC3C6P,EAAaG,eAAiBF,EAAeE,eAC5CH,EAAaI,UAAYJ,EAAa5I,QAAU6I,EAAe7I,QAI5DiJ,EAAkB,SAAlBA,gBAAmB7H,EAAI1B,GAC5B,IAAMwJ,EAAgBzQ,OAAO0Q,eAAezJ,GACxCwJ,IAAkBzQ,OAAO0Q,eAAe/H,IAI5C3I,OAAO2Q,eAAehI,EAAI8H,IAGrBG,EAAkB,SAAlBA,gBAAmBC,EAAUC,GAAX,2BAAsCD,EAAtC,eAAqDC,IAEvEC,EAAqB/Q,OAAOK,yBAAyB2Q,SAASC,UAAW,YACzEC,EAAelR,OAAOK,yBAAyB2Q,SAASC,UAAUE,SAAU,QAK5EC,EAAiB,SAAjBA,eAAkBzI,EAAI1B,EAAMI,GACjC,IAAMwJ,EAAoB,KAATxJ,EAAc,GAAd,eAA2BA,EAAKgK,OAAhC,OACXC,EAAcV,EAAgBW,KAAK,KAAMV,EAAU5J,EAAKkK,YAE9DnR,OAAOL,eAAe2R,EAAa,OAAQJ,GAC3ClR,OAAOL,eAAegJ,EAAI,WAA1B,OAA0CoI,GAA1C,IAA8DxJ,MAAO+J,MAgBtE7Q,EAAOC,QAbS,SAAVmO,QAAWlG,EAAI1B,GAA+C,+DAAP,GAAO,IAAxCiJ,sBAAAA,OAAwC,SAC5D7I,EAAQsB,EAARtB,KAD4D,IAG5CmK,QAAQ5R,QAAQqH,IAH4B,IAGnE,IAAK,EAAL,qBAA8C,KAAnCgJ,EAAmC,QAC7CD,EAAarH,EAAI1B,EAAMgJ,EAAUC,IAJiC,8BAUnE,OAHAM,EAAgB7H,EAAI1B,GACpBmK,EAAezI,EAAI1B,EAAMI,GAElBsB,I,+XCvEO,SAAS8I,gBAAgBC,EAAGC,GAMzC,OALAF,gBAAkBzR,OAAO2Q,gBAAkB,SAASc,gBAAgBC,EAAGC,GAErE,OADAD,EAAEE,UAAYD,EACPD,GAGFD,gBAAgBC,EAAGC,GCLb,SAASE,eAAeC,EAAUC,GAC/CD,EAASb,UAAYjR,OAAOgS,OAAOD,EAAWd,WAC9Ca,EAASb,UAAUgB,YAAcH,EACjCnB,gBAAemB,EAAUC,GCF3B,IAAMG,EAAe,SAAfA,aAAgBC,EAAwBC,GAAzB,gBAACD,IAAAA,EAAoB,SAArB,IAAyBC,IAAAA,EAAoB,IAChED,EAAEpR,SAAWqR,EAAErR,QAAUoR,EAAEE,MAAK,SAAChP,EAAMiP,GAAP,OAAkBtS,OAAOuS,GAAGlP,EAAM+O,EAAEE,QA+DhEE,EAAmC,CAACnO,MAAO,MAE3CmK,EAAAA,SAAAA,G,oJAQJiE,MAAQD,E,EACRE,mBAAqB,WAA6B,6BAAzBC,EAAyB,yBAAzBA,EAAyB,GAAA7R,UAAAA,GAChD,MAAA8R,EAAKnF,MAAMoF,UAAX,IAAKpF,OAAMoF,QAAX,QAAwBF,GACxBC,EAAKrO,S,gDAPAuO,yBAAP,kCAAgCzO,GAC9B,MAAO,CAACA,MAAAA,I,uCASVE,MAAAA,SAAAA,QACEkL,KAAKsD,SAASP,I,EAGhBQ,kBAAAA,SAAAA,kBAAkB3O,EAAc4O,GAAuB,QACrD,YAAAxD,KAAKhC,OAAM/K,UAAX,SAAqB2B,EAAO4O,I,EAG9BC,mBAAAA,SAAAA,mBACEC,EACAC,GAEA,IAcE,IAdK/O,EAASoL,KAAKgD,MAAdpO,MACAgP,EAAa5D,KAAKhC,MAAlB4F,UAUK,OAAVhP,GACoB,OAApB+O,EAAU/O,OACV6N,EAAaiB,EAAUE,UAAWA,KAElC,YAAA5D,KAAKhC,OAAM6F,oBAAX,SAA+BH,EAAUE,UAAWA,GACpD5D,KAAKlL,U,EAITgP,OAAAA,SAAAA,SACE,IAAOlP,EAASoL,KAAKgD,MAAdpO,MAEP,EAAsDoL,KAAKhC,MAApD+F,EAAP,EAAOA,eAAgB/E,EAAvB,EAAuBA,kBAAmBgF,EAA1C,EAA0CA,SAE1C,GAAc,OAAVpP,EAAgB,CAClB,IAAMoJ,EAAQ,CACZpJ,MAAAA,EACAqO,mBAAoBjD,KAAKiD,oBAE3B,GAAIrM,EAAMqN,eAAeD,GACvB,OAAOA,EACF,GAA8B,oBAAnBD,EAChB,OAAOA,EAAe/F,GACjB,GAAIgB,EACT,OAAOpI,EAAAA,cAACoI,EAAsBhB,GAE9B,MAAM,IAAI4B,MACR,8FAKN,OAAOI,KAAKhC,MAAMkG,U,cArEhBnF,CAAsBnI,EAAMuN,WAyElC,SAASC,kBACPD,EACAE,GAEA,IAAMC,EAAkC,SAAlCA,QAAkCtG,GACtC,OACEpH,EAAAA,cAACmI,EAAkBsF,EACjBzN,EAAAA,cAACuN,EAAcnG,KAMfpG,EAAOuM,EAAUI,aAAeJ,EAAUvM,MAAQ,UAGxD,OAFA0M,EAAQC,YAARD,qBAA2C1M,EAA3C,IAEO0M,EAGT,SAASE,gBAAgBC,GACvB,MAA0B7N,EAAM8N,SAAkB,MAA3C9P,EAAP,KAAc+P,EAAd,KACA,GAAkB,MAAdF,EAAoB,MAAMA,EAC9B,GAAa,MAAT7P,EAAe,MAAMA,EACzB,OAAO+P,E","sources":["../node_modules/@babel/runtime/helpers/objectSpread2.js","utils/list-items.js","components/status-buttons.js","components/rating.js","components/book-row.js","components/list-item-list.js","screens/reading-list.js","screens/finished.js","screens/discover.js","utils/misc.js","screens/book.js","screens/not-found.js","authenticated-app.js","../node_modules/debounce-fn/index.js","../node_modules/mimic-fn/index.js","../node_modules/react-error-boundary/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/react-error-boundary/node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/react-error-boundary/src/index.tsx"],"sourcesContent":["var defineProperty = require(\"./defineProperty.js\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread2, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import {useQuery, useMutation, queryCache} from 'react-query'\nimport {setQueryDataForBook} from './books'\nimport {useClient} from 'context/auth-context'\n\nfunction useListItem(bookId, options) {\n  const listItems = useListItems(options)\n  return listItems?.find(li => li.bookId === bookId) ?? null\n}\n\nfunction useListItems(options = {}) {\n  const client = useClient()\n\n  const {data: listItems} = useQuery({\n    queryKey: 'list-items',\n    queryFn: () => client('list-items').then(data => data.listItems),\n    ...options,\n    config: {\n      ...options.config,\n      onSuccess: async listItems => {\n        await options.config?.onSuccess?.(listItems)\n        for (const listItem of listItems) {\n          setQueryDataForBook(listItem.book)\n        }\n      },\n    },\n  })\n  return listItems ?? []\n}\n\nconst defaultMutationOptions = {\n  onError: (err, variables, recover) =>\n    typeof recover === 'function' ? recover() : null,\n  onSettled: () => queryCache.invalidateQueries('list-items'),\n}\n\nfunction onUpdateMutation(newItem) {\n  const previousItems = queryCache.getQueryData('list-items')\n\n  queryCache.setQueryData('list-items', old => {\n    return old.map(item => {\n      return item.id === newItem.id ? {...item, ...newItem} : item\n    })\n  })\n\n  return () => queryCache.setQueryData('list-items', previousItems)\n}\n\nfunction useUpdateListItem(options) {\n  const client = useClient()\n\n  return useMutation(\n    updates =>\n      client(`list-items/${updates.id}`, {\n        method: 'PUT',\n        data: updates,\n      }),\n    {\n      onMutate: onUpdateMutation,\n      ...defaultMutationOptions,\n      ...options,\n    },\n  )\n}\n\nfunction useRemoveListItem(options) {\n  const client = useClient()\n\n  return useMutation(({id}) => client(`list-items/${id}`, {method: 'DELETE'}), {\n    onMutate: removedItem => {\n      const previousItems = queryCache.getQueryData('list-items')\n\n      queryCache.setQueryData('list-items', old => {\n        return old.filter(item => item.id !== removedItem.id)\n      })\n\n      return () => queryCache.setQueryData('list-items', previousItems)\n    },\n    ...defaultMutationOptions,\n    ...options,\n  })\n}\n\nfunction useCreateListItem(options) {\n  const client = useClient()\n\n  return useMutation(({bookId}) => client('list-items', {data: {bookId}}), {\n    ...defaultMutationOptions,\n    ...options,\n  })\n}\n\nexport {\n  useListItem,\n  useListItems,\n  useUpdateListItem,\n  useRemoveListItem,\n  useCreateListItem,\n}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport {\n  FaCheckCircle,\n  FaPlusCircle,\n  FaMinusCircle,\n  FaBook,\n  FaTimesCircle,\n} from 'react-icons/fa'\nimport Tooltip from '@reach/tooltip'\nimport {\n  useListItem,\n  useUpdateListItem,\n  useRemoveListItem,\n  useCreateListItem,\n} from 'utils/list-items'\nimport * as colors from 'styles/colors'\nimport {useAsync} from 'utils/hooks'\nimport {CircleButton, Spinner} from './lib'\n\nfunction TooltipButton({label, highlight, onClick, icon, ...rest}) {\n  const {isLoading, isError, error, run, reset} = useAsync()\n\n  function handleClick() {\n    if (isError) {\n      reset()\n    } else {\n      run(onClick())\n    }\n  }\n\n  return (\n    <Tooltip label={isError ? error.message : label}>\n      <CircleButton\n        css={{\n          backgroundColor: 'white',\n          ':hover,:focus': {\n            color: isLoading\n              ? colors.gray80\n              : isError\n              ? colors.danger\n              : highlight,\n          },\n        }}\n        disabled={isLoading}\n        onClick={handleClick}\n        aria-label={isError ? error.message : label}\n        {...rest}\n      >\n        {isLoading ? <Spinner /> : isError ? <FaTimesCircle /> : icon}\n      </CircleButton>\n    </Tooltip>\n  )\n}\n\nfunction StatusButtons({book}) {\n  const listItem = useListItem(book.id)\n\n  const [mutate] = useUpdateListItem({throwOnError: true})\n  const [handleRemoveClick] = useRemoveListItem({throwOnError: true})\n  const [handleAddClick] = useCreateListItem({throwOnError: true})\n\n  return (\n    <React.Fragment>\n      {listItem ? (\n        Boolean(listItem.finishDate) ? (\n          <TooltipButton\n            label=\"Mark as unread\"\n            highlight={colors.yellow}\n            onClick={() => mutate({id: listItem.id, finishDate: null})}\n            icon={<FaBook />}\n          />\n        ) : (\n          <TooltipButton\n            label=\"Mark as read\"\n            highlight={colors.green}\n            onClick={() => mutate({id: listItem.id, finishDate: Date.now()})}\n            icon={<FaCheckCircle />}\n          />\n        )\n      ) : null}\n      {listItem ? (\n        <TooltipButton\n          label=\"Remove from list\"\n          highlight={colors.danger}\n          onClick={() => handleRemoveClick({id: listItem.id})}\n          icon={<FaMinusCircle />}\n        />\n      ) : (\n        <TooltipButton\n          label=\"Add to list\"\n          highlight={colors.indigo}\n          onClick={() => handleAddClick({bookId: book.id})}\n          icon={<FaPlusCircle />}\n        />\n      )}\n    </React.Fragment>\n  )\n}\n\nexport {StatusButtons}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport {useUpdateListItem} from 'utils/list-items'\nimport {FaStar} from 'react-icons/fa'\nimport * as colors from 'styles/colors'\nimport {ErrorMessage} from 'components/lib'\n\nconst visuallyHiddenCSS = {\n  border: '0',\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: '0',\n  position: 'absolute',\n  width: '1px',\n}\n\nfunction Rating({listItem}) {\n  const [isTabbing, setIsTabbing] = React.useState(false)\n\n  const [mutate, {error, isError}] = useUpdateListItem()\n\n  React.useEffect(() => {\n    function handleKeyDown(event) {\n      if (event.key === 'Tab') {\n        setIsTabbing(true)\n      }\n    }\n    document.addEventListener('keydown', handleKeyDown, {once: true})\n    return () => document.removeEventListener('keydown', handleKeyDown)\n  }, [])\n\n  const rootClassName = `list-item-${listItem.id}`\n\n  const stars = Array.from({length: 5}).map((x, i) => {\n    const ratingId = `rating-${listItem.id}-${i}`\n    const ratingValue = i + 1\n    return (\n      <React.Fragment key={i}>\n        <input\n          name={rootClassName}\n          type=\"radio\"\n          id={ratingId}\n          value={ratingValue}\n          checked={ratingValue === listItem.rating}\n          onChange={() => {\n            mutate({id: listItem.id, rating: ratingValue})\n          }}\n          css={[\n            visuallyHiddenCSS,\n            {\n              [`.${rootClassName} &:checked ~ label`]: {color: colors.gray20},\n              [`.${rootClassName} &:checked + label`]: {color: colors.orange},\n              // !important is here because we're doing special non-css-in-js things\n              // and so we have to deal with specificity and cascade. But, I promise\n              // this is better than trying to make this work with JavaScript.\n              // So deal with it 😎\n              [`.${rootClassName} &:hover ~ label`]: {\n                color: `${colors.gray20} !important`,\n              },\n              [`.${rootClassName} &:hover + label`]: {\n                color: 'orange !important',\n              },\n              [`.${rootClassName} &:focus + label svg`]: {\n                outline: isTabbing\n                  ? ['1px solid orange', '-webkit-focus-ring-color auto 5px']\n                  : 'initial',\n              },\n            },\n          ]}\n        />\n        <label\n          htmlFor={ratingId}\n          css={{\n            cursor: 'pointer',\n            color: listItem.rating < 0 ? colors.gray20 : colors.orange,\n            margin: 0,\n          }}\n        >\n          <span css={visuallyHiddenCSS}>\n            {ratingValue} {ratingValue === 1 ? 'star' : 'stars'}\n          </span>\n          <FaStar css={{width: '16px', margin: '0 2px'}} />\n        </label>\n      </React.Fragment>\n    )\n  })\n  return (\n    <div\n      onClick={e => e.stopPropagation()}\n      className={rootClassName}\n      css={{\n        display: 'inline-flex',\n        alignItems: 'center',\n        [`&.${rootClassName}:hover input + label`]: {\n          color: colors.orange,\n        },\n      }}\n    >\n      <span css={{display: 'flex'}}>{stars}</span>\n      {isError ? (\n        <ErrorMessage\n          error={error}\n          variant=\"inline\"\n          css={{marginLeft: 6, fontSize: '0.7em'}}\n        />\n      ) : null}\n    </div>\n  )\n}\n\nexport {Rating}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport {Link} from 'react-router-dom'\nimport {useListItem} from 'utils/list-items'\nimport * as mq from 'styles/media-queries'\nimport * as colors from 'styles/colors'\nimport {StatusButtons} from './status-buttons'\nimport {Rating} from './rating'\n\nfunction BookRow({book}) {\n  const {title, author, coverImageUrl} = book\n  const listItem = useListItem(book.id)\n\n  const id = `book-row-book-${book.id}`\n\n  return (\n    <div\n      css={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-end',\n        position: 'relative',\n      }}\n    >\n      <Link\n        aria-labelledby={id}\n        to={`/book/${book.id}`}\n        css={{\n          minHeight: 270,\n          flexGrow: 2,\n          display: 'grid',\n          gridTemplateColumns: '140px 1fr',\n          gridGap: 20,\n          border: `1px solid ${colors.gray20}`,\n          color: colors.text,\n          padding: '1.25em',\n          borderRadius: '3px',\n          ':hover,:focus': {\n            textDecoration: 'none',\n            boxShadow: '0 5px 15px -5px rgba(0,0,0,.08)',\n            color: 'inherit',\n          },\n        }}\n      >\n        <div\n          css={{\n            width: 140,\n            [mq.small]: {\n              width: 100,\n            },\n          }}\n        >\n          <img\n            src={coverImageUrl}\n            alt={`${title} book cover`}\n            css={{maxHeight: '100%', width: '100%'}}\n          />\n        </div>\n        <div css={{flex: 1}}>\n          <div css={{display: 'flex', justifyContent: 'space-between'}}>\n            <div css={{flex: 1}}>\n              <h2\n                id={id}\n                css={{\n                  fontSize: '1.25em',\n                  margin: '0',\n                  color: colors.indigo,\n                }}\n              >\n                {title}\n              </h2>\n              {listItem?.finishDate ? <Rating listItem={listItem} /> : null}\n            </div>\n            <div css={{marginLeft: 10}}>\n              <div\n                css={{\n                  marginTop: '0.4em',\n                  fontStyle: 'italic',\n                  fontSize: '0.85em',\n                }}\n              >\n                {author}\n              </div>\n              <small>{book.publisher}</small>\n            </div>\n          </div>\n          <small css={{whiteSpace: 'break-spaces', display: 'block'}}>\n            {book.synopsis.substring(0, 500)}...\n          </small>\n        </div>\n      </Link>\n      <div\n        css={{\n          marginLeft: '20px',\n          position: 'absolute',\n          right: -20,\n          color: colors.gray80,\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'space-around',\n          height: '100%',\n        }}\n      >\n        <StatusButtons book={book} />\n      </div>\n    </div>\n  )\n}\n\nexport {BookRow}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport {useListItems} from 'utils/list-items'\nimport {BookListUL} from './lib'\nimport {BookRow} from './book-row'\nimport {Profiler} from './profiler'\n\nfunction ListItemList({filterListItems, noListItems, noFilteredListItems}) {\n  const listItems = useListItems()\n\n  const filteredListItems = listItems.filter(filterListItems)\n\n  if (!listItems.length) {\n    return <div css={{marginTop: '1em', fontSize: '1.2em'}}>{noListItems}</div>\n  }\n  if (!filteredListItems.length) {\n    return (\n      <div css={{marginTop: '1em', fontSize: '1.2em'}}>\n        {noFilteredListItems}\n      </div>\n    )\n  }\n\n  return (\n    <Profiler\n      id=\"List Item List\"\n      metadata={{listItemCount: filteredListItems.length}}\n    >\n      <BookListUL>\n        {filteredListItems.map(listItem => (\n          <li key={listItem.id} aria-label={listItem.book.title}>\n            <BookRow book={listItem.book} />\n          </li>\n        ))}\n      </BookListUL>\n    </Profiler>\n  )\n}\n\nexport {ListItemList}\n","import * as React from 'react'\nimport {Link} from 'components/lib'\nimport {ListItemList} from 'components/list-item-list'\n\nfunction ReadingListScreen() {\n  return (\n    <ListItemList\n      filterListItems={li => !li.finishDate}\n      noListItems={\n        <p>\n          Hey there! Welcome to your bookshelf reading list. Get started by\n          heading over to <Link to=\"/discover\">the Discover page</Link> to add\n          books to your list.\n        </p>\n      }\n      noFilteredListItems={\n        <p>\n          Looks like you've finished all your books! Check them out in your{' '}\n          <Link to=\"/finished\">finished books</Link> or{' '}\n          <Link to=\"/discover\">discover more</Link>.\n        </p>\n      }\n    />\n  )\n}\n\nexport {ReadingListScreen}\n","import * as React from 'react'\nimport {Link} from 'components/lib'\nimport {ListItemList} from 'components/list-item-list'\n\nfunction FinishedScreen() {\n  return (\n    <ListItemList\n      filterListItems={li => Boolean(li.finishDate)}\n      noListItems={\n        <p>\n          Hey there! This is where books will go when you've finished reading\n          them. Get started by heading over to{' '}\n          <Link to=\"/discover\">the Discover page</Link> to add books to your\n          list.\n        </p>\n      }\n      noFilteredListItems={\n        <p>\n          Looks like you've got some reading to do! Check them out in your{' '}\n          <Link to=\"/list\">reading list</Link> or{' '}\n          <Link to=\"/discover\">discover more</Link>.\n        </p>\n      }\n    />\n  )\n}\n\nexport {FinishedScreen}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport Tooltip from '@reach/tooltip'\nimport {FaSearch, FaTimes} from 'react-icons/fa'\nimport * as colors from 'styles/colors'\nimport {useBookSearch, useRefetchBookSearchQuery} from 'utils/books'\nimport {BookRow} from 'components/book-row'\nimport {BookListUL, Spinner, Input} from 'components/lib'\nimport {Profiler} from 'components/profiler'\n\nfunction DiscoverBooksScreen() {\n  const [query, setQuery] = React.useState('')\n  const [queried, setQueried] = React.useState()\n  const {books, error, isLoading, isError, isSuccess} = useBookSearch(query)\n  const refetchBookSearchQuery = useRefetchBookSearchQuery()\n\n  React.useEffect(() => {\n    return () => refetchBookSearchQuery()\n  }, [refetchBookSearchQuery])\n\n  function handleSearchClick(event) {\n    event.preventDefault()\n    setQueried(true)\n    setQuery(event.target.elements.search.value)\n  }\n\n  return (\n    <div>\n      <div>\n        <form onSubmit={handleSearchClick}>\n          <Input\n            placeholder=\"Search books...\"\n            id=\"search\"\n            type=\"search\"\n            css={{width: '100%'}}\n          />\n          <Tooltip label=\"Search Books\">\n            <label htmlFor=\"search\">\n              <button\n                type=\"submit\"\n                css={{\n                  border: '0',\n                  position: 'relative',\n                  marginLeft: '-35px',\n                  background: 'transparent',\n                }}\n              >\n                {isLoading ? (\n                  <Spinner />\n                ) : isError ? (\n                  <FaTimes aria-label=\"error\" css={{color: colors.danger}} />\n                ) : (\n                  <FaSearch aria-label=\"search\" />\n                )}\n              </button>\n            </label>\n          </Tooltip>\n        </form>\n\n        {isError ? (\n          <div css={{color: colors.danger}}>\n            <p>There was an error:</p>\n            <pre>{error.message}</pre>\n          </div>\n        ) : null}\n      </div>\n      <div>\n        {queried ? null : (\n          <div css={{marginTop: 20, fontSize: '1.2em', textAlign: 'center'}}>\n            <p>Welcome to the discover page.</p>\n            <p>Here, let me load a few books for you...</p>\n            {isLoading ? (\n              <div css={{width: '100%', margin: 'auto'}}>\n                <Spinner />\n              </div>\n            ) : isSuccess && books.length ? (\n              <p>Here you go! Find more books with the search bar above.</p>\n            ) : isSuccess && !books.length ? (\n              <p>\n                Hmmm... I couldn't find any books to suggest for you. Sorry.\n              </p>\n            ) : null}\n          </div>\n        )}\n        {books.length ? (\n          <Profiler\n            id=\"Discover Books Screen Book List\"\n            metadata={{query, bookCount: books.length}}\n          >\n            <BookListUL css={{marginTop: 20}}>\n              {books.map(book => (\n                <li key={book.id} aria-label={book.title}>\n                  <BookRow key={book.id} book={book} />\n                </li>\n              ))}\n            </BookListUL>\n          </Profiler>\n        ) : queried ? (\n          <div css={{marginTop: 20, fontSize: '1.2em', textAlign: 'center'}}>\n            {isLoading ? (\n              <div css={{width: '100%', margin: 'auto'}}>\n                <Spinner />\n              </div>\n            ) : (\n              <p>\n                Hmmm... I couldn't find any books with the query \"{query}.\"\n                Please try another.\n              </p>\n            )}\n          </div>\n        ) : null}\n      </div>\n    </div>\n  )\n}\n\nexport {DiscoverBooksScreen}\n","const formatDate = date =>\n  new Intl.DateTimeFormat('en-US', {month: 'short', year: '2-digit'}).format(\n    date,\n  )\n\nexport {formatDate}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport * as React from 'react'\nimport debounceFn from 'debounce-fn'\nimport {FaRegCalendarAlt} from 'react-icons/fa'\nimport Tooltip from '@reach/tooltip'\nimport {useParams} from 'react-router-dom'\nimport {useBook} from 'utils/books'\nimport {formatDate} from 'utils/misc'\nimport {useListItem, useUpdateListItem} from 'utils/list-items'\nimport * as mq from 'styles/media-queries'\nimport * as colors from 'styles/colors'\nimport {Spinner, Textarea, ErrorMessage} from 'components/lib'\nimport {Rating} from 'components/rating'\nimport {Profiler} from 'components/profiler'\nimport {StatusButtons} from 'components/status-buttons'\n\nfunction BookScreen() {\n  const {bookId} = useParams()\n  const book = useBook(bookId)\n  const listItem = useListItem(bookId)\n\n  const {title, author, coverImageUrl, publisher, synopsis} = book\n\n  return (\n    <Profiler id=\"Book Screen\" metadata={{bookId, listItemId: listItem?.id}}>\n      <div>\n        <div\n          css={{\n            display: 'grid',\n            gridTemplateColumns: '1fr 2fr',\n            gridGap: '2em',\n            marginBottom: '1em',\n            [mq.small]: {\n              display: 'flex',\n              flexDirection: 'column',\n            },\n          }}\n        >\n          <img\n            src={coverImageUrl}\n            alt={`${title} book cover`}\n            css={{width: '100%', maxWidth: '14rem'}}\n          />\n          <div>\n            <div css={{display: 'flex', position: 'relative'}}>\n              <div css={{flex: 1, justifyContent: 'space-between'}}>\n                <h1>{title}</h1>\n                <div>\n                  <i>{author}</i>\n                  <span css={{marginRight: 6, marginLeft: 6}}>|</span>\n                  <i>{publisher}</i>\n                </div>\n              </div>\n              <div\n                css={{\n                  right: 0,\n                  color: colors.gray80,\n                  display: 'flex',\n                  flexDirection: 'column',\n                  justifyContent: 'space-around',\n                  minHeight: 100,\n                }}\n              >\n                {book.loadingBook ? null : <StatusButtons book={book} />}\n              </div>\n            </div>\n            <div css={{marginTop: 10, minHeight: 46}}>\n              {listItem?.finishDate ? <Rating listItem={listItem} /> : null}\n              {listItem ? <ListItemTimeframe listItem={listItem} /> : null}\n            </div>\n            <br />\n            <p css={{whiteSpace: 'break-spaces', display: 'block'}}>\n              {synopsis}\n            </p>\n          </div>\n        </div>\n        {!book.loadingBook && listItem ? (\n          <NotesTextarea listItem={listItem} />\n        ) : null}\n      </div>\n    </Profiler>\n  )\n}\n\nfunction ListItemTimeframe({listItem}) {\n  const timeframeLabel = listItem.finishDate\n    ? 'Start and finish date'\n    : 'Start date'\n\n  return (\n    <Tooltip label={timeframeLabel}>\n      <div aria-label={timeframeLabel} css={{marginTop: 6}}>\n        <FaRegCalendarAlt css={{marginTop: -2, marginRight: 5}} />\n        <span>\n          {formatDate(listItem.startDate)}{' '}\n          {listItem.finishDate ? `— ${formatDate(listItem.finishDate)}` : null}\n        </span>\n      </div>\n    </Tooltip>\n  )\n}\n\nfunction NotesTextarea({listItem}) {\n  const [mutate, {error, isError, isLoading}] = useUpdateListItem()\n\n  const debouncedMutate = React.useMemo(\n    () => debounceFn(mutate, {wait: 300}),\n    [mutate],\n  )\n\n  function handleNotesChange(e) {\n    debouncedMutate({id: listItem.id, notes: e.target.value})\n  }\n\n  return (\n    <React.Fragment>\n      <div>\n        <label\n          htmlFor=\"notes\"\n          css={{\n            display: 'inline-block',\n            marginRight: 10,\n            marginTop: '0',\n            marginBottom: '0.5rem',\n            fontWeight: 'bold',\n          }}\n        >\n          Notes\n        </label>\n        {isError ? (\n          <ErrorMessage\n            variant=\"inline\"\n            error={error}\n            css={{fontSize: '0.7em'}}\n          />\n        ) : null}\n        {isLoading ? <Spinner /> : null}\n      </div>\n      <Textarea\n        id=\"notes\"\n        defaultValue={listItem.notes}\n        onChange={handleNotesChange}\n        css={{width: '100%', minHeight: 300}}\n      />\n    </React.Fragment>\n  )\n}\n\nexport {BookScreen}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport {Link} from 'components/lib'\n\nfunction NotFoundScreen() {\n  return (\n    <div\n      css={{\n        height: '100%',\n        display: 'grid',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <div>\n        Sorry... nothing here. <Link to=\"/list\">Go home</Link>\n      </div>\n    </div>\n  )\n}\n\nexport {NotFoundScreen}\n","/** @jsx jsx */\nimport {jsx} from '@emotion/core'\n\nimport {Routes, Route, Link as RouterLink, useMatch} from 'react-router-dom'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {Button, ErrorMessage, FullPageErrorFallback} from './components/lib'\nimport * as mq from './styles/media-queries'\nimport * as colors from './styles/colors'\nimport {useAuth} from './context/auth-context'\nimport {ReadingListScreen} from './screens/reading-list'\nimport {FinishedScreen} from './screens/finished'\nimport {DiscoverBooksScreen} from './screens/discover'\nimport {BookScreen} from './screens/book'\nimport {NotFoundScreen} from './screens/not-found'\n\nfunction ErrorFallback({error}) {\n  return (\n    <ErrorMessage\n      error={error}\n      css={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    />\n  )\n}\n\nfunction AuthenticatedApp() {\n  const {user, logout} = useAuth()\n  return (\n    <ErrorBoundary FallbackComponent={FullPageErrorFallback}>\n      <div\n        css={{\n          display: 'flex',\n          alignItems: 'center',\n          position: 'absolute',\n          top: '10px',\n          right: '10px',\n        }}\n      >\n        {user.username}\n        <Button variant=\"secondary\" css={{marginLeft: '10px'}} onClick={logout}>\n          Logout\n        </Button>\n      </div>\n      <div\n        css={{\n          margin: '0 auto',\n          padding: '4em 2em',\n          maxWidth: '840px',\n          width: '100%',\n          display: 'grid',\n          gridGap: '1em',\n          gridTemplateColumns: '1fr 3fr',\n          [mq.small]: {\n            gridTemplateColumns: '1fr',\n            gridTemplateRows: 'auto',\n            width: '100%',\n          },\n        }}\n      >\n        <div css={{position: 'relative'}}>\n          <Nav />\n        </div>\n        <main css={{width: '100%'}}>\n          <ErrorBoundary FallbackComponent={ErrorFallback}>\n            <AppRoutes />\n          </ErrorBoundary>\n        </main>\n      </div>\n    </ErrorBoundary>\n  )\n}\n\nfunction NavLink(props) {\n  const match = useMatch(props.to)\n  return (\n    <RouterLink\n      css={[\n        {\n          display: 'block',\n          padding: '8px 15px 8px 10px',\n          margin: '5px 0',\n          width: '100%',\n          height: '100%',\n          color: colors.text,\n          borderRadius: '2px',\n          borderLeft: '5px solid transparent',\n          ':hover,:focus': {\n            color: colors.indigo,\n            textDecoration: 'none',\n            background: colors.gray10,\n          },\n        },\n        match\n          ? {\n              borderLeft: `5px solid ${colors.indigo}`,\n              background: colors.gray10,\n              ':hover,:focus': {\n                background: colors.gray10,\n              },\n            }\n          : null,\n      ]}\n      {...props}\n    />\n  )\n}\n\nfunction Nav(params) {\n  return (\n    <nav\n      css={{\n        position: 'sticky',\n        top: '4px',\n        padding: '1em 1.5em',\n        border: `1px solid ${colors.gray10}`,\n        borderRadius: '3px',\n        [mq.small]: {\n          position: 'static',\n          top: 'auto',\n        },\n      }}\n    >\n      <ul\n        css={{\n          listStyle: 'none',\n          padding: '0',\n        }}\n      >\n        <li>\n          <NavLink to=\"/list\">Reading List</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/finished\">Finished Books</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/discover\">Discover</NavLink>\n        </li>\n      </ul>\n    </nav>\n  )\n}\n\nfunction AppRoutes() {\n  return (\n    <Routes>\n      <Route path=\"/list\" element={<ReadingListScreen />} />\n      <Route path=\"/finished\" element={<FinishedScreen />} />\n      <Route path=\"/discover\" element={<DiscoverBooksScreen />} />\n      <Route path=\"/book/:bookId\" element={<BookScreen />} />\n      <Route path=\"*\" element={<NotFoundScreen />} />\n    </Routes>\n  )\n}\n\nexport default AuthenticatedApp\n","'use strict';\nconst mimicFn = require('mimic-fn');\n\nmodule.exports = (inputFunction, options = {}) => {\n\tif (typeof inputFunction !== 'function') {\n\t\tthrow new TypeError(`Expected the first argument to be a function, got \\`${typeof inputFunction}\\``);\n\t}\n\n\tconst {\n\t\twait = 0,\n\t\tbefore = false,\n\t\tafter = true\n\t} = options;\n\n\tif (!before && !after) {\n\t\tthrow new Error('Both `before` and `after` are false, function wouldn\\'t be called.');\n\t}\n\n\tlet timeout;\n\tlet result;\n\n\tconst debouncedFunction = function (...arguments_) {\n\t\tconst context = this;\n\n\t\tconst later = () => {\n\t\t\ttimeout = undefined;\n\n\t\t\tif (after) {\n\t\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t\t}\n\t\t};\n\n\t\tconst shouldCallNow = before && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\n\t\tif (shouldCallNow) {\n\t\t\tresult = inputFunction.apply(context, arguments_);\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tmimicFn(debouncedFunction, inputFunction);\n\n\tdebouncedFunction.cancel = () => {\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t\ttimeout = undefined;\n\t\t}\n\t};\n\n\treturn debouncedFunction;\n};\n","'use strict';\n\nconst copyProperty = (to, from, property, ignoreNonConfigurable) => {\n\t// `Function#length` should reflect the parameters of `to` not `from` since we keep its body.\n\t// `Function#prototype` is non-writable and non-configurable so can never be modified.\n\tif (property === 'length' || property === 'prototype') {\n\t\treturn;\n\t}\n\n\t// `Function#arguments` and `Function#caller` should not be copied. They were reported to be present in `Reflect.ownKeys` for some devices in React Native (#41), so we explicitly ignore them here.\n\tif (property === 'arguments' || property === 'caller') {\n\t\treturn;\n\t}\n\n\tconst toDescriptor = Object.getOwnPropertyDescriptor(to, property);\n\tconst fromDescriptor = Object.getOwnPropertyDescriptor(from, property);\n\n\tif (!canCopyProperty(toDescriptor, fromDescriptor) && ignoreNonConfigurable) {\n\t\treturn;\n\t}\n\n\tObject.defineProperty(to, property, fromDescriptor);\n};\n\n// `Object.defineProperty()` throws if the property exists, is not configurable and either:\n//  - one its descriptors is changed\n//  - it is non-writable and its value is changed\nconst canCopyProperty = function (toDescriptor, fromDescriptor) {\n\treturn toDescriptor === undefined || toDescriptor.configurable || (\n\t\ttoDescriptor.writable === fromDescriptor.writable &&\n\t\ttoDescriptor.enumerable === fromDescriptor.enumerable &&\n\t\ttoDescriptor.configurable === fromDescriptor.configurable &&\n\t\t(toDescriptor.writable || toDescriptor.value === fromDescriptor.value)\n\t);\n};\n\nconst changePrototype = (to, from) => {\n\tconst fromPrototype = Object.getPrototypeOf(from);\n\tif (fromPrototype === Object.getPrototypeOf(to)) {\n\t\treturn;\n\t}\n\n\tObject.setPrototypeOf(to, fromPrototype);\n};\n\nconst wrappedToString = (withName, fromBody) => `/* Wrapped ${withName}*/\\n${fromBody}`;\n\nconst toStringDescriptor = Object.getOwnPropertyDescriptor(Function.prototype, 'toString');\nconst toStringName = Object.getOwnPropertyDescriptor(Function.prototype.toString, 'name');\n\n// We call `from.toString()` early (not lazily) to ensure `from` can be garbage collected.\n// We use `bind()` instead of a closure for the same reason.\n// Calling `from.toString()` early also allows caching it in case `to.toString()` is called several times.\nconst changeToString = (to, from, name) => {\n\tconst withName = name === '' ? '' : `with ${name.trim()}() `;\n\tconst newToString = wrappedToString.bind(null, withName, from.toString());\n\t// Ensure `to.toString.toString` is non-enumerable and has the same `same`\n\tObject.defineProperty(newToString, 'name', toStringName);\n\tObject.defineProperty(to, 'toString', {...toStringDescriptor, value: newToString});\n};\n\nconst mimicFn = (to, from, {ignoreNonConfigurable = false} = {}) => {\n\tconst {name} = to;\n\n\tfor (const property of Reflect.ownKeys(from)) {\n\t\tcopyProperty(to, from, property, ignoreNonConfigurable);\n\t}\n\n\tchangePrototype(to, from);\n\tchangeToString(to, from, name);\n\n\treturn to;\n};\n\nmodule.exports = mimicFn;\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import * as React from 'react'\n\nconst changedArray = (a: Array<unknown> = [], b: Array<unknown> = []) =>\n  a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]))\n\ninterface FallbackProps {\n  error: Error\n  resetErrorBoundary: (...args: Array<unknown>) => void\n}\n\ninterface ErrorBoundaryPropsWithComponent {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback?: never\n  FallbackComponent: React.ComponentType<FallbackProps>\n  fallbackRender?: never\n}\n\ndeclare function FallbackRender(\n  props: FallbackProps,\n): React.ReactElement<\n  unknown,\n  string | React.FunctionComponent | typeof React.Component\n> | null\n\ninterface ErrorBoundaryPropsWithRender {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback?: never\n  FallbackComponent?: never\n  fallbackRender: typeof FallbackRender\n}\n\ninterface ErrorBoundaryPropsWithFallback {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback: React.ReactElement<\n    unknown,\n    string | React.FunctionComponent | typeof React.Component\n  > | null\n  FallbackComponent?: never\n  fallbackRender?: never\n}\n\ntype ErrorBoundaryProps =\n  | ErrorBoundaryPropsWithFallback\n  | ErrorBoundaryPropsWithComponent\n  | ErrorBoundaryPropsWithRender\n\ntype ErrorBoundaryState = {error: Error | null}\n\nconst initialState: ErrorBoundaryState = {error: null}\n\nclass ErrorBoundary extends React.Component<\n  React.PropsWithRef<React.PropsWithChildren<ErrorBoundaryProps>>,\n  ErrorBoundaryState\n> {\n  static getDerivedStateFromError(error: Error) {\n    return {error}\n  }\n\n  state = initialState\n  resetErrorBoundary = (...args: Array<unknown>) => {\n    this.props.onReset?.(...args)\n    this.reset()\n  }\n\n  reset() {\n    this.setState(initialState)\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo) {\n    this.props.onError?.(error, info)\n  }\n\n  componentDidUpdate(\n    prevProps: ErrorBoundaryProps,\n    prevState: ErrorBoundaryState,\n  ) {\n    const {error} = this.state\n    const {resetKeys} = this.props\n\n    // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (\n      error !== null &&\n      prevState.error !== null &&\n      changedArray(prevProps.resetKeys, resetKeys)\n    ) {\n      this.props.onResetKeysChange?.(prevProps.resetKeys, resetKeys)\n      this.reset()\n    }\n  }\n\n  render() {\n    const {error} = this.state\n\n    const {fallbackRender, FallbackComponent, fallback} = this.props\n\n    if (error !== null) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary,\n      }\n      if (React.isValidElement(fallback)) {\n        return fallback\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(props)\n      } else if (FallbackComponent) {\n        return <FallbackComponent {...props} />\n      } else {\n        throw new Error(\n          'react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop',\n        )\n      }\n    }\n\n    return this.props.children\n  }\n}\n\nfunction withErrorBoundary<P>(\n  Component: React.ComponentType<P>,\n  errorBoundaryProps: ErrorBoundaryProps,\n): React.ComponentType<P> {\n  const Wrapped: React.ComponentType<P> = props => {\n    return (\n      <ErrorBoundary {...errorBoundaryProps}>\n        <Component {...props} />\n      </ErrorBoundary>\n    )\n  }\n\n  // Format for display in DevTools\n  const name = Component.displayName || Component.name || 'Unknown'\n  Wrapped.displayName = `withErrorBoundary(${name})`\n\n  return Wrapped\n}\n\nfunction useErrorHandler(givenError?: unknown): (error: unknown) => void {\n  const [error, setError] = React.useState<unknown>(null)\n  if (givenError != null) throw givenError\n  if (error != null) throw error\n  return setError\n}\n\nexport {ErrorBoundary, withErrorBoundary, useErrorHandler}\nexport type {\n  FallbackProps,\n  ErrorBoundaryPropsWithComponent,\n  ErrorBoundaryPropsWithRender,\n  ErrorBoundaryPropsWithFallback,\n  ErrorBoundaryProps,\n}\n\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n"],"names":["defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","module","exports","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","__esModule","useListItem","bookId","options","listItems","useListItems","find","li","client","useClient","useQuery","queryKey","queryFn","then","data","config","onSuccess","listItem","setQueryDataForBook","book","defaultMutationOptions","onError","err","variables","recover","onSettled","queryCache","onUpdateMutation","newItem","previousItems","old","map","item","id","useUpdateListItem","useMutation","updates","method","onMutate","TooltipButton","label","highlight","onClick","icon","rest","useAsync","isLoading","isError","error","run","reset","message","css","backgroundColor","color","colors","disabled","handleClick","StatusButtons","throwOnError","mutate","useRemoveListItem","removedItem","handleRemoveClick","useCreateListItem","handleAddClick","Boolean","finishDate","Date","now","visuallyHiddenCSS","border","clip","height","margin","overflow","padding","position","width","Rating","React","isTabbing","setIsTabbing","handleKeyDown","event","document","addEventListener","once","removeEventListener","rootClassName","stars","Array","from","x","ratingId","ratingValue","name","type","value","checked","rating","onChange","outline","htmlFor","cursor","e","stopPropagation","className","display","alignItems","variant","marginLeft","fontSize","BookRow","title","author","coverImageUrl","justifyContent","to","minHeight","flexGrow","gridTemplateColumns","gridGap","borderRadius","textDecoration","boxShadow","mq","src","alt","maxHeight","flex","marginTop","fontStyle","publisher","whiteSpace","synopsis","substring","right","flexDirection","ListItemList","filterListItems","noListItems","noFilteredListItems","filteredListItems","metadata","listItemCount","ReadingListScreen","FinishedScreen","DiscoverBooksScreen","query","setQuery","queried","setQueried","useBookSearch","books","isSuccess","refetchBookSearchQuery","useRefetchBookSearchQuery","onSubmit","handleSearchClick","preventDefault","elements","search","placeholder","background","textAlign","bookCount","formatDate","date","Intl","DateTimeFormat","month","year","format","BookScreen","useParams","useBook","listItemId","marginBottom","maxWidth","marginRight","loadingBook","ListItemTimeframe","NotesTextarea","timeframeLabel","startDate","debouncedMutate","debounceFn","wait","fontWeight","defaultValue","notes","handleNotesChange","NotFoundScreen","ErrorFallback","NavLink","props","match","useMatch","borderLeft","Nav","params","top","listStyle","AppRoutes","path","element","AuthenticatedApp","useAuth","user","logout","ErrorBoundary","FallbackComponent","FullPageErrorFallback","username","gridTemplateRows","mimicFn","require","inputFunction","TypeError","timeout","result","before","after","Error","debouncedFunction","arguments_","context","this","later","undefined","shouldCallNow","clearTimeout","setTimeout","cancel","copyProperty","property","ignoreNonConfigurable","toDescriptor","fromDescriptor","canCopyProperty","configurable","writable","changePrototype","fromPrototype","getPrototypeOf","setPrototypeOf","wrappedToString","withName","fromBody","toStringDescriptor","Function","prototype","toStringName","toString","changeToString","trim","newToString","bind","Reflect","_setPrototypeOf","o","p","__proto__","_inheritsLoose","subClass","superClass","create","constructor","changedArray","a","b","some","index","is","initialState","state","resetErrorBoundary","args","_this","onReset","getDerivedStateFromError","setState","componentDidCatch","info","componentDidUpdate","prevProps","prevState","resetKeys","onResetKeysChange","render","fallbackRender","fallback","isValidElement","children","Component","withErrorBoundary","errorBoundaryProps","Wrapped","displayName","useErrorHandler","givenError","useState","setError"],"sourceRoot":""}